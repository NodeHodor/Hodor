{"type":"Program","start":0,"end":3686,"loc":{"start":{"line":1,"column":0},"end":{"line":197,"column":0}},"body":[{"type":"ExpressionStatement","start":122,"end":134,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":12}},"expression":{"type":"Literal","start":122,"end":134,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":12}},"value":"use strict","raw":"'use strict'"},"directive":"use strict"},{"type":"ExpressionStatement","start":175,"end":202,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}},"expression":{"type":"AssignmentExpression","start":175,"end":202,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}},"operator":"=","left":{"type":"MemberExpression","start":175,"end":189,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":14}},"object":{"type":"Identifier","start":175,"end":181,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":6}},"name":"module"},"property":{"type":"Identifier","start":182,"end":189,"loc":{"start":{"line":15,"column":7},"end":{"line":15,"column":14}},"name":"exports"},"computed":false,"optional":false},"right":{"type":"Identifier","start":192,"end":202,"loc":{"start":{"line":15,"column":17},"end":{"line":15,"column":27}},"name":"onFinished"}}},{"type":"ExpressionStatement","start":203,"end":241,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":38}},"expression":{"type":"AssignmentExpression","start":203,"end":241,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":38}},"operator":"=","left":{"type":"MemberExpression","start":203,"end":228,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":25}},"object":{"type":"MemberExpression","start":203,"end":217,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":14}},"object":{"type":"Identifier","start":203,"end":209,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":6}},"name":"module"},"property":{"type":"Identifier","start":210,"end":217,"loc":{"start":{"line":16,"column":7},"end":{"line":16,"column":14}},"name":"exports"},"computed":false,"optional":false},"property":{"type":"Identifier","start":218,"end":228,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":25}},"name":"isFinished"},"computed":false,"optional":false},"right":{"type":"Identifier","start":231,"end":241,"loc":{"start":{"line":16,"column":28},"end":{"line":16,"column":38}},"name":"isFinished"}}},{"type":"VariableDeclaration","start":288,"end":319,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":31}},"declarations":[{"type":"VariableDeclarator","start":292,"end":319,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":31}},"id":{"type":"Identifier","start":292,"end":297,"loc":{"start":{"line":23,"column":4},"end":{"line":23,"column":9}},"name":"first"},"init":{"type":"CallExpression","start":300,"end":319,"loc":{"start":{"line":23,"column":12},"end":{"line":23,"column":31}},"callee":{"type":"Identifier","start":300,"end":307,"loc":{"start":{"line":23,"column":12},"end":{"line":23,"column":19}},"name":"require"},"arguments":[{"type":"Literal","start":308,"end":318,"loc":{"start":{"line":23,"column":20},"end":{"line":23,"column":30}},"value":"ee-first","raw":"'ee-first'"}],"optional":false}}],"kind":"var"},{"type":"VariableDeclaration","start":383,"end":513,"loc":{"start":{"line":31,"column":0},"end":{"line":33,"column":66}},"declarations":[{"type":"VariableDeclarator","start":387,"end":513,"loc":{"start":{"line":31,"column":4},"end":{"line":33,"column":66}},"id":{"type":"Identifier","start":387,"end":392,"loc":{"start":{"line":31,"column":4},"end":{"line":31,"column":9}},"name":"defer"},"init":{"type":"ConditionalExpression","start":395,"end":513,"loc":{"start":{"line":31,"column":12},"end":{"line":33,"column":66}},"test":{"type":"BinaryExpression","start":395,"end":429,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":46}},"left":{"type":"UnaryExpression","start":395,"end":414,"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":31}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":402,"end":414,"loc":{"start":{"line":31,"column":19},"end":{"line":31,"column":31}},"name":"setImmediate"}},"operator":"===","right":{"type":"Literal","start":419,"end":429,"loc":{"start":{"line":31,"column":36},"end":{"line":31,"column":46}},"value":"function","raw":"'function'"}},"consequent":{"type":"Identifier","start":434,"end":446,"loc":{"start":{"line":32,"column":4},"end":{"line":32,"column":16}},"name":"setImmediate"},"alternate":{"type":"FunctionExpression","start":451,"end":513,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":66}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":460,"end":462,"loc":{"start":{"line":33,"column":13},"end":{"line":33,"column":15}},"name":"fn"}],"body":{"type":"BlockStatement","start":463,"end":513,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":66}},"body":[{"type":"ExpressionStatement","start":465,"end":511,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":64}},"expression":{"type":"CallExpression","start":465,"end":511,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":64}},"callee":{"type":"MemberExpression","start":465,"end":481,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":34}},"object":{"type":"Identifier","start":465,"end":472,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":25}},"name":"process"},"property":{"type":"Identifier","start":473,"end":481,"loc":{"start":{"line":33,"column":26},"end":{"line":33,"column":34}},"name":"nextTick"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":482,"end":510,"loc":{"start":{"line":33,"column":35},"end":{"line":33,"column":63}},"callee":{"type":"MemberExpression","start":482,"end":495,"loc":{"start":{"line":33,"column":35},"end":{"line":33,"column":48}},"object":{"type":"MemberExpression","start":482,"end":489,"loc":{"start":{"line":33,"column":35},"end":{"line":33,"column":42}},"object":{"type":"Identifier","start":482,"end":484,"loc":{"start":{"line":33,"column":35},"end":{"line":33,"column":37}},"name":"fn"},"property":{"type":"Identifier","start":485,"end":489,"loc":{"start":{"line":33,"column":38},"end":{"line":33,"column":42}},"name":"bind"},"computed":false,"optional":false},"property":{"type":"Identifier","start":490,"end":495,"loc":{"start":{"line":33,"column":43},"end":{"line":33,"column":48}},"name":"apply"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":496,"end":498,"loc":{"start":{"line":33,"column":49},"end":{"line":33,"column":51}},"name":"fn"},{"type":"Identifier","start":500,"end":509,"loc":{"start":{"line":33,"column":53},"end":{"line":33,"column":62}},"name":"arguments"}],"optional":false}],"optional":false}}]}}}}],"kind":"var"},{"type":"FunctionDeclaration","start":710,"end":920,"loc":{"start":{"line":45,"column":0},"end":{"line":55,"column":1}},"id":{"type":"Identifier","start":719,"end":729,"loc":{"start":{"line":45,"column":9},"end":{"line":45,"column":19}},"name":"onFinished"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":730,"end":733,"loc":{"start":{"line":45,"column":20},"end":{"line":45,"column":23}},"name":"msg"},{"type":"Identifier","start":735,"end":743,"loc":{"start":{"line":45,"column":25},"end":{"line":45,"column":33}},"name":"listener"}],"body":{"type":"BlockStatement","start":745,"end":920,"loc":{"start":{"line":45,"column":35},"end":{"line":55,"column":1}},"body":[{"type":"IfStatement","start":749,"end":831,"loc":{"start":{"line":46,"column":2},"end":{"line":49,"column":3}},"test":{"type":"BinaryExpression","start":753,"end":778,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":31}},"left":{"type":"CallExpression","start":753,"end":768,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":21}},"callee":{"type":"Identifier","start":753,"end":763,"loc":{"start":{"line":46,"column":6},"end":{"line":46,"column":16}},"name":"isFinished"},"arguments":[{"type":"Identifier","start":764,"end":767,"loc":{"start":{"line":46,"column":17},"end":{"line":46,"column":20}},"name":"msg"}],"optional":false},"operator":"!==","right":{"type":"Literal","start":773,"end":778,"loc":{"start":{"line":46,"column":26},"end":{"line":46,"column":31}},"value":false,"raw":"false"}},"consequent":{"type":"BlockStatement","start":780,"end":831,"loc":{"start":{"line":46,"column":33},"end":{"line":49,"column":3}},"body":[{"type":"ExpressionStatement","start":786,"end":812,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":30}},"expression":{"type":"CallExpression","start":786,"end":812,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":30}},"callee":{"type":"Identifier","start":786,"end":791,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":9}},"name":"defer"},"arguments":[{"type":"Identifier","start":792,"end":800,"loc":{"start":{"line":47,"column":10},"end":{"line":47,"column":18}},"name":"listener"},{"type":"Literal","start":802,"end":806,"loc":{"start":{"line":47,"column":20},"end":{"line":47,"column":24}},"value":null,"raw":"null"},{"type":"Identifier","start":808,"end":811,"loc":{"start":{"line":47,"column":26},"end":{"line":47,"column":29}},"name":"msg"}],"optional":false}},{"type":"ReturnStatement","start":817,"end":827,"loc":{"start":{"line":48,"column":4},"end":{"line":48,"column":14}},"argument":{"type":"Identifier","start":824,"end":827,"loc":{"start":{"line":48,"column":11},"end":{"line":48,"column":14}},"name":"msg"}}]},"alternate":null},{"type":"ExpressionStatement","start":875,"end":904,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":31}},"expression":{"type":"CallExpression","start":875,"end":904,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":31}},"callee":{"type":"Identifier","start":875,"end":889,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":16}},"name":"attachListener"},"arguments":[{"type":"Identifier","start":890,"end":893,"loc":{"start":{"line":52,"column":17},"end":{"line":52,"column":20}},"name":"msg"},{"type":"Identifier","start":895,"end":903,"loc":{"start":{"line":52,"column":22},"end":{"line":52,"column":30}},"name":"listener"}],"optional":false}},{"type":"ReturnStatement","start":908,"end":918,"loc":{"start":{"line":54,"column":2},"end":{"line":54,"column":12}},"argument":{"type":"Identifier","start":915,"end":918,"loc":{"start":{"line":54,"column":9},"end":{"line":54,"column":12}},"name":"msg"}}]}},{"type":"FunctionDeclaration","start":1034,"end":1429,"loc":{"start":{"line":65,"column":0},"end":{"line":80,"column":1}},"id":{"type":"Identifier","start":1043,"end":1053,"loc":{"start":{"line":65,"column":9},"end":{"line":65,"column":19}},"name":"isFinished"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1054,"end":1057,"loc":{"start":{"line":65,"column":20},"end":{"line":65,"column":23}},"name":"msg"}],"body":{"type":"BlockStatement","start":1059,"end":1429,"loc":{"start":{"line":65,"column":25},"end":{"line":80,"column":1}},"body":[{"type":"VariableDeclaration","start":1063,"end":1086,"loc":{"start":{"line":66,"column":2},"end":{"line":66,"column":25}},"declarations":[{"type":"VariableDeclarator","start":1067,"end":1086,"loc":{"start":{"line":66,"column":6},"end":{"line":66,"column":25}},"id":{"type":"Identifier","start":1067,"end":1073,"loc":{"start":{"line":66,"column":6},"end":{"line":66,"column":12}},"name":"socket"},"init":{"type":"MemberExpression","start":1076,"end":1086,"loc":{"start":{"line":66,"column":15},"end":{"line":66,"column":25}},"object":{"type":"Identifier","start":1076,"end":1079,"loc":{"start":{"line":66,"column":15},"end":{"line":66,"column":18}},"name":"msg"},"property":{"type":"Identifier","start":1080,"end":1086,"loc":{"start":{"line":66,"column":19},"end":{"line":66,"column":25}},"name":"socket"},"computed":false,"optional":false}}],"kind":"var"},{"type":"IfStatement","start":1090,"end":1222,"loc":{"start":{"line":68,"column":2},"end":{"line":71,"column":3}},"test":{"type":"BinaryExpression","start":1094,"end":1127,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":39}},"left":{"type":"UnaryExpression","start":1094,"end":1113,"loc":{"start":{"line":68,"column":6},"end":{"line":68,"column":25}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":1101,"end":1113,"loc":{"start":{"line":68,"column":13},"end":{"line":68,"column":25}},"object":{"type":"Identifier","start":1101,"end":1104,"loc":{"start":{"line":68,"column":13},"end":{"line":68,"column":16}},"name":"msg"},"property":{"type":"Identifier","start":1105,"end":1113,"loc":{"start":{"line":68,"column":17},"end":{"line":68,"column":25}},"name":"finished"},"computed":false,"optional":false}},"operator":"===","right":{"type":"Literal","start":1118,"end":1127,"loc":{"start":{"line":68,"column":30},"end":{"line":68,"column":39}},"value":"boolean","raw":"'boolean'"}},"consequent":{"type":"BlockStatement","start":1129,"end":1222,"loc":{"start":{"line":68,"column":41},"end":{"line":71,"column":3}},"body":[{"type":"ReturnStatement","start":1158,"end":1218,"loc":{"start":{"line":70,"column":4},"end":{"line":70,"column":64}},"argument":{"type":"CallExpression","start":1165,"end":1218,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":64}},"callee":{"type":"Identifier","start":1165,"end":1172,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":18}},"name":"Boolean"},"arguments":[{"type":"LogicalExpression","start":1173,"end":1217,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":63}},"left":{"type":"MemberExpression","start":1173,"end":1185,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":31}},"object":{"type":"Identifier","start":1173,"end":1176,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":22}},"name":"msg"},"property":{"type":"Identifier","start":1177,"end":1185,"loc":{"start":{"line":70,"column":23},"end":{"line":70,"column":31}},"name":"finished"},"computed":false,"optional":false},"operator":"||","right":{"type":"LogicalExpression","start":1190,"end":1216,"loc":{"start":{"line":70,"column":36},"end":{"line":70,"column":62}},"left":{"type":"Identifier","start":1190,"end":1196,"loc":{"start":{"line":70,"column":36},"end":{"line":70,"column":42}},"name":"socket"},"operator":"&&","right":{"type":"UnaryExpression","start":1200,"end":1216,"loc":{"start":{"line":70,"column":46},"end":{"line":70,"column":62}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1201,"end":1216,"loc":{"start":{"line":70,"column":47},"end":{"line":70,"column":62}},"object":{"type":"Identifier","start":1201,"end":1207,"loc":{"start":{"line":70,"column":47},"end":{"line":70,"column":53}},"name":"socket"},"property":{"type":"Identifier","start":1208,"end":1216,"loc":{"start":{"line":70,"column":54},"end":{"line":70,"column":62}},"name":"writable"},"computed":false,"optional":false}}}}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":1226,"end":1391,"loc":{"start":{"line":73,"column":2},"end":{"line":76,"column":3}},"test":{"type":"BinaryExpression","start":1230,"end":1263,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":39}},"left":{"type":"UnaryExpression","start":1230,"end":1249,"loc":{"start":{"line":73,"column":6},"end":{"line":73,"column":25}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":1237,"end":1249,"loc":{"start":{"line":73,"column":13},"end":{"line":73,"column":25}},"object":{"type":"Identifier","start":1237,"end":1240,"loc":{"start":{"line":73,"column":13},"end":{"line":73,"column":16}},"name":"msg"},"property":{"type":"Identifier","start":1241,"end":1249,"loc":{"start":{"line":73,"column":17},"end":{"line":73,"column":25}},"name":"complete"},"computed":false,"optional":false}},"operator":"===","right":{"type":"Literal","start":1254,"end":1263,"loc":{"start":{"line":73,"column":30},"end":{"line":73,"column":39}},"value":"boolean","raw":"'boolean'"}},"consequent":{"type":"BlockStatement","start":1265,"end":1391,"loc":{"start":{"line":73,"column":41},"end":{"line":76,"column":3}},"body":[{"type":"ReturnStatement","start":1294,"end":1387,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":97}},"argument":{"type":"CallExpression","start":1301,"end":1387,"loc":{"start":{"line":75,"column":11},"end":{"line":75,"column":97}},"callee":{"type":"Identifier","start":1301,"end":1308,"loc":{"start":{"line":75,"column":11},"end":{"line":75,"column":18}},"name":"Boolean"},"arguments":[{"type":"LogicalExpression","start":1309,"end":1386,"loc":{"start":{"line":75,"column":19},"end":{"line":75,"column":96}},"left":{"type":"LogicalExpression","start":1309,"end":1351,"loc":{"start":{"line":75,"column":19},"end":{"line":75,"column":61}},"left":{"type":"LogicalExpression","start":1309,"end":1331,"loc":{"start":{"line":75,"column":19},"end":{"line":75,"column":41}},"left":{"type":"MemberExpression","start":1309,"end":1320,"loc":{"start":{"line":75,"column":19},"end":{"line":75,"column":30}},"object":{"type":"Identifier","start":1309,"end":1312,"loc":{"start":{"line":75,"column":19},"end":{"line":75,"column":22}},"name":"msg"},"property":{"type":"Identifier","start":1313,"end":1320,"loc":{"start":{"line":75,"column":23},"end":{"line":75,"column":30}},"name":"upgrade"},"computed":false,"optional":false},"operator":"||","right":{"type":"UnaryExpression","start":1324,"end":1331,"loc":{"start":{"line":75,"column":34},"end":{"line":75,"column":41}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":1325,"end":1331,"loc":{"start":{"line":75,"column":35},"end":{"line":75,"column":41}},"name":"socket"}}},"operator":"||","right":{"type":"UnaryExpression","start":1335,"end":1351,"loc":{"start":{"line":75,"column":45},"end":{"line":75,"column":61}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1336,"end":1351,"loc":{"start":{"line":75,"column":46},"end":{"line":75,"column":61}},"object":{"type":"Identifier","start":1336,"end":1342,"loc":{"start":{"line":75,"column":46},"end":{"line":75,"column":52}},"name":"socket"},"property":{"type":"Identifier","start":1343,"end":1351,"loc":{"start":{"line":75,"column":53},"end":{"line":75,"column":61}},"name":"readable"},"computed":false,"optional":false}}},"operator":"||","right":{"type":"LogicalExpression","start":1356,"end":1385,"loc":{"start":{"line":75,"column":66},"end":{"line":75,"column":95}},"left":{"type":"MemberExpression","start":1356,"end":1368,"loc":{"start":{"line":75,"column":66},"end":{"line":75,"column":78}},"object":{"type":"Identifier","start":1356,"end":1359,"loc":{"start":{"line":75,"column":66},"end":{"line":75,"column":69}},"name":"msg"},"property":{"type":"Identifier","start":1360,"end":1368,"loc":{"start":{"line":75,"column":70},"end":{"line":75,"column":78}},"name":"complete"},"computed":false,"optional":false},"operator":"&&","right":{"type":"UnaryExpression","start":1372,"end":1385,"loc":{"start":{"line":75,"column":82},"end":{"line":75,"column":95}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1373,"end":1385,"loc":{"start":{"line":75,"column":83},"end":{"line":75,"column":95}},"object":{"type":"Identifier","start":1373,"end":1376,"loc":{"start":{"line":75,"column":83},"end":{"line":75,"column":86}},"name":"msg"},"property":{"type":"Identifier","start":1377,"end":1385,"loc":{"start":{"line":75,"column":87},"end":{"line":75,"column":95}},"name":"readable"},"computed":false,"optional":false}}}}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":1411,"end":1427,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":18}},"argument":{"type":"Identifier","start":1418,"end":1427,"loc":{"start":{"line":79,"column":9},"end":{"line":79,"column":18}},"name":"undefined"}}]}},{"type":"FunctionDeclaration","start":1554,"end":2392,"loc":{"start":{"line":90,"column":0},"end":{"line":130,"column":1}},"id":{"type":"Identifier","start":1563,"end":1585,"loc":{"start":{"line":90,"column":9},"end":{"line":90,"column":31}},"name":"attachFinishedListener"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1586,"end":1589,"loc":{"start":{"line":90,"column":32},"end":{"line":90,"column":35}},"name":"msg"},{"type":"Identifier","start":1591,"end":1599,"loc":{"start":{"line":90,"column":37},"end":{"line":90,"column":45}},"name":"callback"}],"body":{"type":"BlockStatement","start":1601,"end":2392,"loc":{"start":{"line":90,"column":47},"end":{"line":130,"column":1}},"body":[{"type":"VariableDeclaration","start":1605,"end":1614,"loc":{"start":{"line":91,"column":2},"end":{"line":91,"column":11}},"declarations":[{"type":"VariableDeclarator","start":1609,"end":1614,"loc":{"start":{"line":91,"column":6},"end":{"line":91,"column":11}},"id":{"type":"Identifier","start":1609,"end":1614,"loc":{"start":{"line":91,"column":6},"end":{"line":91,"column":11}},"name":"eeMsg"},"init":null}],"kind":"var"},{"type":"VariableDeclaration","start":1617,"end":1629,"loc":{"start":{"line":92,"column":2},"end":{"line":92,"column":14}},"declarations":[{"type":"VariableDeclarator","start":1621,"end":1629,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":14}},"id":{"type":"Identifier","start":1621,"end":1629,"loc":{"start":{"line":92,"column":6},"end":{"line":92,"column":14}},"name":"eeSocket"},"init":null}],"kind":"var"},{"type":"VariableDeclaration","start":1632,"end":1652,"loc":{"start":{"line":93,"column":2},"end":{"line":93,"column":22}},"declarations":[{"type":"VariableDeclarator","start":1636,"end":1652,"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":22}},"id":{"type":"Identifier","start":1636,"end":1644,"loc":{"start":{"line":93,"column":6},"end":{"line":93,"column":14}},"name":"finished"},"init":{"type":"Literal","start":1647,"end":1652,"loc":{"start":{"line":93,"column":17},"end":{"line":93,"column":22}},"value":false,"raw":"false"}}],"kind":"var"},{"type":"FunctionDeclaration","start":1656,"end":1768,"loc":{"start":{"line":95,"column":2},"end":{"line":101,"column":3}},"id":{"type":"Identifier","start":1665,"end":1673,"loc":{"start":{"line":95,"column":11},"end":{"line":95,"column":19}},"name":"onFinish"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1674,"end":1679,"loc":{"start":{"line":95,"column":20},"end":{"line":95,"column":25}},"name":"error"}],"body":{"type":"BlockStatement","start":1681,"end":1768,"loc":{"start":{"line":95,"column":27},"end":{"line":101,"column":3}},"body":[{"type":"ExpressionStatement","start":1687,"end":1701,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":18}},"expression":{"type":"CallExpression","start":1687,"end":1701,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":18}},"callee":{"type":"MemberExpression","start":1687,"end":1699,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":16}},"object":{"type":"Identifier","start":1687,"end":1692,"loc":{"start":{"line":96,"column":4},"end":{"line":96,"column":9}},"name":"eeMsg"},"property":{"type":"Identifier","start":1693,"end":1699,"loc":{"start":{"line":96,"column":10},"end":{"line":96,"column":16}},"name":"cancel"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1706,"end":1723,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":21}},"expression":{"type":"CallExpression","start":1706,"end":1723,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":21}},"callee":{"type":"MemberExpression","start":1706,"end":1721,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":19}},"object":{"type":"Identifier","start":1706,"end":1714,"loc":{"start":{"line":97,"column":4},"end":{"line":97,"column":12}},"name":"eeSocket"},"property":{"type":"Identifier","start":1715,"end":1721,"loc":{"start":{"line":97,"column":13},"end":{"line":97,"column":19}},"name":"cancel"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":1729,"end":1744,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":19}},"expression":{"type":"AssignmentExpression","start":1729,"end":1744,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":19}},"operator":"=","left":{"type":"Identifier","start":1729,"end":1737,"loc":{"start":{"line":99,"column":4},"end":{"line":99,"column":12}},"name":"finished"},"right":{"type":"Literal","start":1740,"end":1744,"loc":{"start":{"line":99,"column":15},"end":{"line":99,"column":19}},"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":1749,"end":1764,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":19}},"expression":{"type":"CallExpression","start":1749,"end":1764,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":19}},"callee":{"type":"Identifier","start":1749,"end":1757,"loc":{"start":{"line":100,"column":4},"end":{"line":100,"column":12}},"name":"callback"},"arguments":[{"type":"Identifier","start":1758,"end":1763,"loc":{"start":{"line":100,"column":13},"end":{"line":100,"column":18}},"name":"error"}],"optional":false}}]}},{"type":"ExpressionStatement","start":1809,"end":1869,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":62}},"expression":{"type":"AssignmentExpression","start":1809,"end":1869,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":62}},"operator":"=","left":{"type":"Identifier","start":1809,"end":1814,"loc":{"start":{"line":104,"column":2},"end":{"line":104,"column":7}},"name":"eeMsg"},"right":{"type":"AssignmentExpression","start":1817,"end":1869,"loc":{"start":{"line":104,"column":10},"end":{"line":104,"column":62}},"operator":"=","left":{"type":"Identifier","start":1817,"end":1825,"loc":{"start":{"line":104,"column":10},"end":{"line":104,"column":18}},"name":"eeSocket"},"right":{"type":"CallExpression","start":1828,"end":1869,"loc":{"start":{"line":104,"column":21},"end":{"line":104,"column":62}},"callee":{"type":"Identifier","start":1828,"end":1833,"loc":{"start":{"line":104,"column":21},"end":{"line":104,"column":26}},"name":"first"},"arguments":[{"type":"ArrayExpression","start":1834,"end":1858,"loc":{"start":{"line":104,"column":27},"end":{"line":104,"column":51}},"elements":[{"type":"ArrayExpression","start":1835,"end":1857,"loc":{"start":{"line":104,"column":28},"end":{"line":104,"column":50}},"elements":[{"type":"Identifier","start":1836,"end":1839,"loc":{"start":{"line":104,"column":29},"end":{"line":104,"column":32}},"name":"msg"},{"type":"Literal","start":1841,"end":1846,"loc":{"start":{"line":104,"column":34},"end":{"line":104,"column":39}},"value":"end","raw":"'end'"},{"type":"Literal","start":1848,"end":1856,"loc":{"start":{"line":104,"column":41},"end":{"line":104,"column":49}},"value":"finish","raw":"'finish'"}]}]},{"type":"Identifier","start":1860,"end":1868,"loc":{"start":{"line":104,"column":53},"end":{"line":104,"column":61}},"name":"onFinish"}],"optional":false}}}},{"type":"FunctionDeclaration","start":1873,"end":2131,"loc":{"start":{"line":106,"column":2},"end":{"line":115,"column":3}},"id":{"type":"Identifier","start":1882,"end":1890,"loc":{"start":{"line":106,"column":11},"end":{"line":106,"column":19}},"name":"onSocket"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1891,"end":1897,"loc":{"start":{"line":106,"column":20},"end":{"line":106,"column":26}},"name":"socket"}],"body":{"type":"BlockStatement","start":1899,"end":2131,"loc":{"start":{"line":106,"column":28},"end":{"line":115,"column":3}},"body":[{"type":"ExpressionStatement","start":1928,"end":1966,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":42}},"expression":{"type":"CallExpression","start":1928,"end":1966,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":42}},"callee":{"type":"MemberExpression","start":1928,"end":1946,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":22}},"object":{"type":"Identifier","start":1928,"end":1931,"loc":{"start":{"line":108,"column":4},"end":{"line":108,"column":7}},"name":"msg"},"property":{"type":"Identifier","start":1932,"end":1946,"loc":{"start":{"line":108,"column":8},"end":{"line":108,"column":22}},"name":"removeListener"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1947,"end":1955,"loc":{"start":{"line":108,"column":23},"end":{"line":108,"column":31}},"value":"socket","raw":"'socket'"},{"type":"Identifier","start":1957,"end":1965,"loc":{"start":{"line":108,"column":33},"end":{"line":108,"column":41}},"name":"onSocket"}],"optional":false}},{"type":"IfStatement","start":1972,"end":1992,"loc":{"start":{"line":110,"column":4},"end":{"line":110,"column":24}},"test":{"type":"Identifier","start":1976,"end":1984,"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":16}},"name":"finished"},"consequent":{"type":"ReturnStatement","start":1986,"end":1992,"loc":{"start":{"line":110,"column":18},"end":{"line":110,"column":24}},"argument":null},"alternate":null},{"type":"IfStatement","start":1997,"end":2027,"loc":{"start":{"line":111,"column":4},"end":{"line":111,"column":34}},"test":{"type":"BinaryExpression","start":2001,"end":2019,"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":26}},"left":{"type":"Identifier","start":2001,"end":2006,"loc":{"start":{"line":111,"column":8},"end":{"line":111,"column":13}},"name":"eeMsg"},"operator":"!==","right":{"type":"Identifier","start":2011,"end":2019,"loc":{"start":{"line":111,"column":18},"end":{"line":111,"column":26}},"name":"eeSocket"}},"consequent":{"type":"ReturnStatement","start":2021,"end":2027,"loc":{"start":{"line":111,"column":28},"end":{"line":111,"column":34}},"argument":null},"alternate":null},{"type":"ExpressionStatement","start":2071,"end":2127,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":60}},"expression":{"type":"AssignmentExpression","start":2071,"end":2127,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":60}},"operator":"=","left":{"type":"Identifier","start":2071,"end":2079,"loc":{"start":{"line":114,"column":4},"end":{"line":114,"column":12}},"name":"eeSocket"},"right":{"type":"CallExpression","start":2082,"end":2127,"loc":{"start":{"line":114,"column":15},"end":{"line":114,"column":60}},"callee":{"type":"Identifier","start":2082,"end":2087,"loc":{"start":{"line":114,"column":15},"end":{"line":114,"column":20}},"name":"first"},"arguments":[{"type":"ArrayExpression","start":2088,"end":2116,"loc":{"start":{"line":114,"column":21},"end":{"line":114,"column":49}},"elements":[{"type":"ArrayExpression","start":2089,"end":2115,"loc":{"start":{"line":114,"column":22},"end":{"line":114,"column":48}},"elements":[{"type":"Identifier","start":2090,"end":2096,"loc":{"start":{"line":114,"column":23},"end":{"line":114,"column":29}},"name":"socket"},{"type":"Literal","start":2098,"end":2105,"loc":{"start":{"line":114,"column":31},"end":{"line":114,"column":38}},"value":"error","raw":"'error'"},{"type":"Literal","start":2107,"end":2114,"loc":{"start":{"line":114,"column":40},"end":{"line":114,"column":47}},"value":"close","raw":"'close'"}]}]},{"type":"Identifier","start":2118,"end":2126,"loc":{"start":{"line":114,"column":51},"end":{"line":114,"column":59}},"name":"onFinish"}],"optional":false}}}]}},{"type":"IfStatement","start":2135,"end":2223,"loc":{"start":{"line":117,"column":2},"end":{"line":121,"column":3}},"test":{"type":"MemberExpression","start":2139,"end":2149,"loc":{"start":{"line":117,"column":6},"end":{"line":117,"column":16}},"object":{"type":"Identifier","start":2139,"end":2142,"loc":{"start":{"line":117,"column":6},"end":{"line":117,"column":9}},"name":"msg"},"property":{"type":"Identifier","start":2143,"end":2149,"loc":{"start":{"line":117,"column":10},"end":{"line":117,"column":16}},"name":"socket"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":2151,"end":2223,"loc":{"start":{"line":117,"column":18},"end":{"line":121,"column":3}},"body":[{"type":"ExpressionStatement","start":2188,"end":2208,"loc":{"start":{"line":119,"column":4},"end":{"line":119,"column":24}},"expression":{"type":"CallExpression","start":2188,"end":2208,"loc":{"start":{"line":119,"column":4},"end":{"line":119,"column":24}},"callee":{"type":"Identifier","start":2188,"end":2196,"loc":{"start":{"line":119,"column":4},"end":{"line":119,"column":12}},"name":"onSocket"},"arguments":[{"type":"MemberExpression","start":2197,"end":2207,"loc":{"start":{"line":119,"column":13},"end":{"line":119,"column":23}},"object":{"type":"Identifier","start":2197,"end":2200,"loc":{"start":{"line":119,"column":13},"end":{"line":119,"column":16}},"name":"msg"},"property":{"type":"Identifier","start":2201,"end":2207,"loc":{"start":{"line":119,"column":17},"end":{"line":119,"column":23}},"name":"socket"},"computed":false,"optional":false}],"optional":false}},{"type":"ReturnStatement","start":2213,"end":2219,"loc":{"start":{"line":120,"column":4},"end":{"line":120,"column":10}},"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":2263,"end":2289,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":28}},"expression":{"type":"CallExpression","start":2263,"end":2289,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":28}},"callee":{"type":"MemberExpression","start":2263,"end":2269,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":8}},"object":{"type":"Identifier","start":2263,"end":2266,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":5}},"name":"msg"},"property":{"type":"Identifier","start":2267,"end":2269,"loc":{"start":{"line":124,"column":6},"end":{"line":124,"column":8}},"name":"on"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2270,"end":2278,"loc":{"start":{"line":124,"column":9},"end":{"line":124,"column":17}},"value":"socket","raw":"'socket'"},{"type":"Identifier","start":2280,"end":2288,"loc":{"start":{"line":124,"column":19},"end":{"line":124,"column":27}},"name":"onSocket"}],"optional":false}},{"type":"IfStatement","start":2293,"end":2390,"loc":{"start":{"line":126,"column":2},"end":{"line":129,"column":3}},"test":{"type":"BinaryExpression","start":2297,"end":2321,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":30}},"left":{"type":"MemberExpression","start":2297,"end":2307,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":16}},"object":{"type":"Identifier","start":2297,"end":2300,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":9}},"name":"msg"},"property":{"type":"Identifier","start":2301,"end":2307,"loc":{"start":{"line":126,"column":10},"end":{"line":126,"column":16}},"name":"socket"},"computed":false,"optional":false},"operator":"===","right":{"type":"Identifier","start":2312,"end":2321,"loc":{"start":{"line":126,"column":21},"end":{"line":126,"column":30}},"name":"undefined"}},"consequent":{"type":"BlockStatement","start":2323,"end":2390,"loc":{"start":{"line":126,"column":32},"end":{"line":129,"column":3}},"body":[{"type":"ExpressionStatement","start":2354,"end":2386,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":36}},"expression":{"type":"CallExpression","start":2354,"end":2386,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":36}},"callee":{"type":"Identifier","start":2354,"end":2371,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":21}},"name":"patchAssignSocket"},"arguments":[{"type":"Identifier","start":2372,"end":2375,"loc":{"start":{"line":128,"column":22},"end":{"line":128,"column":25}},"name":"msg"},{"type":"Identifier","start":2377,"end":2385,"loc":{"start":{"line":128,"column":27},"end":{"line":128,"column":35}},"name":"onSocket"}],"optional":false}}]},"alternate":null}]}},{"type":"FunctionDeclaration","start":2502,"end":2799,"loc":{"start":{"line":140,"column":0},"end":{"line":150,"column":1}},"id":{"type":"Identifier","start":2511,"end":2525,"loc":{"start":{"line":140,"column":9},"end":{"line":140,"column":23}},"name":"attachListener"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2526,"end":2529,"loc":{"start":{"line":140,"column":24},"end":{"line":140,"column":27}},"name":"msg"},{"type":"Identifier","start":2531,"end":2539,"loc":{"start":{"line":140,"column":29},"end":{"line":140,"column":37}},"name":"listener"}],"body":{"type":"BlockStatement","start":2541,"end":2799,"loc":{"start":{"line":140,"column":39},"end":{"line":150,"column":1}},"body":[{"type":"VariableDeclaration","start":2545,"end":2576,"loc":{"start":{"line":141,"column":2},"end":{"line":141,"column":33}},"declarations":[{"type":"VariableDeclarator","start":2549,"end":2576,"loc":{"start":{"line":141,"column":6},"end":{"line":141,"column":33}},"id":{"type":"Identifier","start":2549,"end":2557,"loc":{"start":{"line":141,"column":6},"end":{"line":141,"column":14}},"name":"attached"},"init":{"type":"MemberExpression","start":2560,"end":2576,"loc":{"start":{"line":141,"column":17},"end":{"line":141,"column":33}},"object":{"type":"Identifier","start":2560,"end":2563,"loc":{"start":{"line":141,"column":17},"end":{"line":141,"column":20}},"name":"msg"},"property":{"type":"Identifier","start":2564,"end":2576,"loc":{"start":{"line":141,"column":21},"end":{"line":141,"column":33}},"name":"__onFinished"},"computed":false,"optional":false}}],"kind":"var"},{"type":"IfStatement","start":2629,"end":2764,"loc":{"start":{"line":144,"column":2},"end":{"line":147,"column":3}},"test":{"type":"LogicalExpression","start":2633,"end":2661,"loc":{"start":{"line":144,"column":6},"end":{"line":144,"column":34}},"left":{"type":"UnaryExpression","start":2633,"end":2642,"loc":{"start":{"line":144,"column":6},"end":{"line":144,"column":15}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2634,"end":2642,"loc":{"start":{"line":144,"column":7},"end":{"line":144,"column":15}},"name":"attached"}},"operator":"||","right":{"type":"UnaryExpression","start":2646,"end":2661,"loc":{"start":{"line":144,"column":19},"end":{"line":144,"column":34}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2647,"end":2661,"loc":{"start":{"line":144,"column":20},"end":{"line":144,"column":34}},"object":{"type":"Identifier","start":2647,"end":2655,"loc":{"start":{"line":144,"column":20},"end":{"line":144,"column":28}},"name":"attached"},"property":{"type":"Identifier","start":2656,"end":2661,"loc":{"start":{"line":144,"column":29},"end":{"line":144,"column":34}},"name":"queue"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":2663,"end":2764,"loc":{"start":{"line":144,"column":36},"end":{"line":147,"column":3}},"body":[{"type":"ExpressionStatement","start":2669,"end":2718,"loc":{"start":{"line":145,"column":4},"end":{"line":145,"column":53}},"expression":{"type":"AssignmentExpression","start":2669,"end":2718,"loc":{"start":{"line":145,"column":4},"end":{"line":145,"column":53}},"operator":"=","left":{"type":"Identifier","start":2669,"end":2677,"loc":{"start":{"line":145,"column":4},"end":{"line":145,"column":12}},"name":"attached"},"right":{"type":"AssignmentExpression","start":2680,"end":2718,"loc":{"start":{"line":145,"column":15},"end":{"line":145,"column":53}},"operator":"=","left":{"type":"MemberExpression","start":2680,"end":2696,"loc":{"start":{"line":145,"column":15},"end":{"line":145,"column":31}},"object":{"type":"Identifier","start":2680,"end":2683,"loc":{"start":{"line":145,"column":15},"end":{"line":145,"column":18}},"name":"msg"},"property":{"type":"Identifier","start":2684,"end":2696,"loc":{"start":{"line":145,"column":19},"end":{"line":145,"column":31}},"name":"__onFinished"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":2699,"end":2718,"loc":{"start":{"line":145,"column":34},"end":{"line":145,"column":53}},"callee":{"type":"Identifier","start":2699,"end":2713,"loc":{"start":{"line":145,"column":34},"end":{"line":145,"column":48}},"name":"createListener"},"arguments":[{"type":"Identifier","start":2714,"end":2717,"loc":{"start":{"line":145,"column":49},"end":{"line":145,"column":52}},"name":"msg"}],"optional":false}}}},{"type":"ExpressionStatement","start":2723,"end":2760,"loc":{"start":{"line":146,"column":4},"end":{"line":146,"column":41}},"expression":{"type":"CallExpression","start":2723,"end":2760,"loc":{"start":{"line":146,"column":4},"end":{"line":146,"column":41}},"callee":{"type":"Identifier","start":2723,"end":2745,"loc":{"start":{"line":146,"column":4},"end":{"line":146,"column":26}},"name":"attachFinishedListener"},"arguments":[{"type":"Identifier","start":2746,"end":2749,"loc":{"start":{"line":146,"column":27},"end":{"line":146,"column":30}},"name":"msg"},{"type":"Identifier","start":2751,"end":2759,"loc":{"start":{"line":146,"column":32},"end":{"line":146,"column":40}},"name":"attached"}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":2768,"end":2797,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":31}},"expression":{"type":"CallExpression","start":2768,"end":2797,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":31}},"callee":{"type":"MemberExpression","start":2768,"end":2787,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":21}},"object":{"type":"MemberExpression","start":2768,"end":2782,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":16}},"object":{"type":"Identifier","start":2768,"end":2776,"loc":{"start":{"line":149,"column":2},"end":{"line":149,"column":10}},"name":"attached"},"property":{"type":"Identifier","start":2777,"end":2782,"loc":{"start":{"line":149,"column":11},"end":{"line":149,"column":16}},"name":"queue"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2783,"end":2787,"loc":{"start":{"line":149,"column":17},"end":{"line":149,"column":21}},"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2788,"end":2796,"loc":{"start":{"line":149,"column":22},"end":{"line":149,"column":30}},"name":"listener"}],"optional":false}}]}},{"type":"FunctionDeclaration","start":2901,"end":3236,"loc":{"start":{"line":160,"column":0},"end":{"line":176,"column":1}},"id":{"type":"Identifier","start":2910,"end":2924,"loc":{"start":{"line":160,"column":9},"end":{"line":160,"column":23}},"name":"createListener"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2925,"end":2928,"loc":{"start":{"line":160,"column":24},"end":{"line":160,"column":27}},"name":"msg"}],"body":{"type":"BlockStatement","start":2930,"end":3236,"loc":{"start":{"line":160,"column":29},"end":{"line":176,"column":1}},"body":[{"type":"FunctionDeclaration","start":2934,"end":3192,"loc":{"start":{"line":161,"column":2},"end":{"line":171,"column":3}},"id":{"type":"Identifier","start":2943,"end":2951,"loc":{"start":{"line":161,"column":11},"end":{"line":161,"column":19}},"name":"listener"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2952,"end":2955,"loc":{"start":{"line":161,"column":20},"end":{"line":161,"column":23}},"name":"err"}],"body":{"type":"BlockStatement","start":2957,"end":3192,"loc":{"start":{"line":161,"column":25},"end":{"line":171,"column":3}},"body":[{"type":"IfStatement","start":2963,"end":3021,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":62}},"test":{"type":"BinaryExpression","start":2967,"end":2996,"loc":{"start":{"line":162,"column":8},"end":{"line":162,"column":37}},"left":{"type":"MemberExpression","start":2967,"end":2983,"loc":{"start":{"line":162,"column":8},"end":{"line":162,"column":24}},"object":{"type":"Identifier","start":2967,"end":2970,"loc":{"start":{"line":162,"column":8},"end":{"line":162,"column":11}},"name":"msg"},"property":{"type":"Identifier","start":2971,"end":2983,"loc":{"start":{"line":162,"column":12},"end":{"line":162,"column":24}},"name":"__onFinished"},"computed":false,"optional":false},"operator":"===","right":{"type":"Identifier","start":2988,"end":2996,"loc":{"start":{"line":162,"column":29},"end":{"line":162,"column":37}},"name":"listener"}},"consequent":{"type":"ExpressionStatement","start":2998,"end":3021,"loc":{"start":{"line":162,"column":39},"end":{"line":162,"column":62}},"expression":{"type":"AssignmentExpression","start":2998,"end":3021,"loc":{"start":{"line":162,"column":39},"end":{"line":162,"column":62}},"operator":"=","left":{"type":"MemberExpression","start":2998,"end":3014,"loc":{"start":{"line":162,"column":39},"end":{"line":162,"column":55}},"object":{"type":"Identifier","start":2998,"end":3001,"loc":{"start":{"line":162,"column":39},"end":{"line":162,"column":42}},"name":"msg"},"property":{"type":"Identifier","start":3002,"end":3014,"loc":{"start":{"line":162,"column":43},"end":{"line":162,"column":55}},"name":"__onFinished"},"computed":false,"optional":false},"right":{"type":"Literal","start":3017,"end":3021,"loc":{"start":{"line":162,"column":58},"end":{"line":162,"column":62}},"value":null,"raw":"null"}}},"alternate":null},{"type":"IfStatement","start":3026,"end":3053,"loc":{"start":{"line":163,"column":4},"end":{"line":163,"column":31}},"test":{"type":"UnaryExpression","start":3030,"end":3045,"loc":{"start":{"line":163,"column":8},"end":{"line":163,"column":23}},"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":3031,"end":3045,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":23}},"object":{"type":"Identifier","start":3031,"end":3039,"loc":{"start":{"line":163,"column":9},"end":{"line":163,"column":17}},"name":"listener"},"property":{"type":"Identifier","start":3040,"end":3045,"loc":{"start":{"line":163,"column":18},"end":{"line":163,"column":23}},"name":"queue"},"computed":false,"optional":false}},"consequent":{"type":"ReturnStatement","start":3047,"end":3053,"loc":{"start":{"line":163,"column":25},"end":{"line":163,"column":31}},"argument":null},"alternate":null},{"type":"VariableDeclaration","start":3059,"end":3085,"loc":{"start":{"line":165,"column":4},"end":{"line":165,"column":30}},"declarations":[{"type":"VariableDeclarator","start":3063,"end":3085,"loc":{"start":{"line":165,"column":8},"end":{"line":165,"column":30}},"id":{"type":"Identifier","start":3063,"end":3068,"loc":{"start":{"line":165,"column":8},"end":{"line":165,"column":13}},"name":"queue"},"init":{"type":"MemberExpression","start":3071,"end":3085,"loc":{"start":{"line":165,"column":16},"end":{"line":165,"column":30}},"object":{"type":"Identifier","start":3071,"end":3079,"loc":{"start":{"line":165,"column":16},"end":{"line":165,"column":24}},"name":"listener"},"property":{"type":"Identifier","start":3080,"end":3085,"loc":{"start":{"line":165,"column":25},"end":{"line":165,"column":30}},"name":"queue"},"computed":false,"optional":false}}],"kind":"var"},{"type":"ExpressionStatement","start":3090,"end":3111,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":25}},"expression":{"type":"AssignmentExpression","start":3090,"end":3111,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":25}},"operator":"=","left":{"type":"MemberExpression","start":3090,"end":3104,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":18}},"object":{"type":"Identifier","start":3090,"end":3098,"loc":{"start":{"line":166,"column":4},"end":{"line":166,"column":12}},"name":"listener"},"property":{"type":"Identifier","start":3099,"end":3104,"loc":{"start":{"line":166,"column":13},"end":{"line":166,"column":18}},"name":"queue"},"computed":false,"optional":false},"right":{"type":"Literal","start":3107,"end":3111,"loc":{"start":{"line":166,"column":21},"end":{"line":166,"column":25}},"value":null,"raw":"null"}}},{"type":"ForStatement","start":3117,"end":3188,"loc":{"start":{"line":168,"column":4},"end":{"line":170,"column":5}},"init":{"type":"VariableDeclaration","start":3122,"end":3131,"loc":{"start":{"line":168,"column":9},"end":{"line":168,"column":18}},"declarations":[{"type":"VariableDeclarator","start":3126,"end":3131,"loc":{"start":{"line":168,"column":13},"end":{"line":168,"column":18}},"id":{"type":"Identifier","start":3126,"end":3127,"loc":{"start":{"line":168,"column":13},"end":{"line":168,"column":14}},"name":"i"},"init":{"type":"Literal","start":3130,"end":3131,"loc":{"start":{"line":168,"column":17},"end":{"line":168,"column":18}},"value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":3133,"end":3149,"loc":{"start":{"line":168,"column":20},"end":{"line":168,"column":36}},"left":{"type":"Identifier","start":3133,"end":3134,"loc":{"start":{"line":168,"column":20},"end":{"line":168,"column":21}},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":3137,"end":3149,"loc":{"start":{"line":168,"column":24},"end":{"line":168,"column":36}},"object":{"type":"Identifier","start":3137,"end":3142,"loc":{"start":{"line":168,"column":24},"end":{"line":168,"column":29}},"name":"queue"},"property":{"type":"Identifier","start":3143,"end":3149,"loc":{"start":{"line":168,"column":30},"end":{"line":168,"column":36}},"name":"length"},"computed":false,"optional":false}},"update":{"type":"UpdateExpression","start":3151,"end":3154,"loc":{"start":{"line":168,"column":38},"end":{"line":168,"column":41}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":3151,"end":3152,"loc":{"start":{"line":168,"column":38},"end":{"line":168,"column":39}},"name":"i"}},"body":{"type":"BlockStatement","start":3156,"end":3188,"loc":{"start":{"line":168,"column":43},"end":{"line":170,"column":5}},"body":[{"type":"ExpressionStatement","start":3164,"end":3182,"loc":{"start":{"line":169,"column":6},"end":{"line":169,"column":24}},"expression":{"type":"CallExpression","start":3164,"end":3182,"loc":{"start":{"line":169,"column":6},"end":{"line":169,"column":24}},"callee":{"type":"MemberExpression","start":3164,"end":3172,"loc":{"start":{"line":169,"column":6},"end":{"line":169,"column":14}},"object":{"type":"Identifier","start":3164,"end":3169,"loc":{"start":{"line":169,"column":6},"end":{"line":169,"column":11}},"name":"queue"},"property":{"type":"Identifier","start":3170,"end":3171,"loc":{"start":{"line":169,"column":12},"end":{"line":169,"column":13}},"name":"i"},"computed":true,"optional":false},"arguments":[{"type":"Identifier","start":3173,"end":3176,"loc":{"start":{"line":169,"column":15},"end":{"line":169,"column":18}},"name":"err"},{"type":"Identifier","start":3178,"end":3181,"loc":{"start":{"line":169,"column":20},"end":{"line":169,"column":23}},"name":"msg"}],"optional":false}}]}}]}},{"type":"ExpressionStatement","start":3196,"end":3215,"loc":{"start":{"line":173,"column":2},"end":{"line":173,"column":21}},"expression":{"type":"AssignmentExpression","start":3196,"end":3215,"loc":{"start":{"line":173,"column":2},"end":{"line":173,"column":21}},"operator":"=","left":{"type":"MemberExpression","start":3196,"end":3210,"loc":{"start":{"line":173,"column":2},"end":{"line":173,"column":16}},"object":{"type":"Identifier","start":3196,"end":3204,"loc":{"start":{"line":173,"column":2},"end":{"line":173,"column":10}},"name":"listener"},"property":{"type":"Identifier","start":3205,"end":3210,"loc":{"start":{"line":173,"column":11},"end":{"line":173,"column":16}},"name":"queue"},"computed":false,"optional":false},"right":{"type":"ArrayExpression","start":3213,"end":3215,"loc":{"start":{"line":173,"column":19},"end":{"line":173,"column":21}},"elements":[]}}},{"type":"ReturnStatement","start":3219,"end":3234,"loc":{"start":{"line":175,"column":2},"end":{"line":175,"column":17}},"argument":{"type":"Identifier","start":3226,"end":3234,"loc":{"start":{"line":175,"column":9},"end":{"line":175,"column":17}},"name":"listener"}}]}},{"type":"FunctionDeclaration","start":3387,"end":3685,"loc":{"start":{"line":186,"column":0},"end":{"line":196,"column":1}},"id":{"type":"Identifier","start":3396,"end":3413,"loc":{"start":{"line":186,"column":9},"end":{"line":186,"column":26}},"name":"patchAssignSocket"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3414,"end":3417,"loc":{"start":{"line":186,"column":27},"end":{"line":186,"column":30}},"name":"res"},{"type":"Identifier","start":3419,"end":3427,"loc":{"start":{"line":186,"column":32},"end":{"line":186,"column":40}},"name":"callback"}],"body":{"type":"BlockStatement","start":3429,"end":3685,"loc":{"start":{"line":186,"column":42},"end":{"line":196,"column":1}},"body":[{"type":"VariableDeclaration","start":3433,"end":3468,"loc":{"start":{"line":187,"column":2},"end":{"line":187,"column":37}},"declarations":[{"type":"VariableDeclarator","start":3437,"end":3468,"loc":{"start":{"line":187,"column":6},"end":{"line":187,"column":37}},"id":{"type":"Identifier","start":3437,"end":3449,"loc":{"start":{"line":187,"column":6},"end":{"line":187,"column":18}},"name":"assignSocket"},"init":{"type":"MemberExpression","start":3452,"end":3468,"loc":{"start":{"line":187,"column":21},"end":{"line":187,"column":37}},"object":{"type":"Identifier","start":3452,"end":3455,"loc":{"start":{"line":187,"column":21},"end":{"line":187,"column":24}},"name":"res"},"property":{"type":"Identifier","start":3456,"end":3468,"loc":{"start":{"line":187,"column":25},"end":{"line":187,"column":37}},"name":"assignSocket"},"computed":false,"optional":false}}],"kind":"var"},{"type":"IfStatement","start":3472,"end":3518,"loc":{"start":{"line":189,"column":2},"end":{"line":189,"column":48}},"test":{"type":"BinaryExpression","start":3476,"end":3510,"loc":{"start":{"line":189,"column":6},"end":{"line":189,"column":40}},"left":{"type":"UnaryExpression","start":3476,"end":3495,"loc":{"start":{"line":189,"column":6},"end":{"line":189,"column":25}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":3483,"end":3495,"loc":{"start":{"line":189,"column":13},"end":{"line":189,"column":25}},"name":"assignSocket"}},"operator":"!==","right":{"type":"Literal","start":3500,"end":3510,"loc":{"start":{"line":189,"column":30},"end":{"line":189,"column":40}},"value":"function","raw":"'function'"}},"consequent":{"type":"ReturnStatement","start":3512,"end":3518,"loc":{"start":{"line":189,"column":42},"end":{"line":189,"column":48}},"argument":null},"alternate":null},{"type":"ExpressionStatement","start":3571,"end":3683,"loc":{"start":{"line":192,"column":2},"end":{"line":195,"column":3}},"expression":{"type":"AssignmentExpression","start":3571,"end":3683,"loc":{"start":{"line":192,"column":2},"end":{"line":195,"column":3}},"operator":"=","left":{"type":"MemberExpression","start":3571,"end":3587,"loc":{"start":{"line":192,"column":2},"end":{"line":192,"column":18}},"object":{"type":"Identifier","start":3571,"end":3574,"loc":{"start":{"line":192,"column":2},"end":{"line":192,"column":5}},"name":"res"},"property":{"type":"Identifier","start":3575,"end":3587,"loc":{"start":{"line":192,"column":6},"end":{"line":192,"column":18}},"name":"assignSocket"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":3590,"end":3683,"loc":{"start":{"line":192,"column":21},"end":{"line":195,"column":3}},"id":{"type":"Identifier","start":3599,"end":3612,"loc":{"start":{"line":192,"column":30},"end":{"line":192,"column":43}},"name":"_assignSocket"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3613,"end":3619,"loc":{"start":{"line":192,"column":44},"end":{"line":192,"column":50}},"name":"socket"}],"body":{"type":"BlockStatement","start":3621,"end":3683,"loc":{"start":{"line":192,"column":52},"end":{"line":195,"column":3}},"body":[{"type":"ExpressionStatement","start":3627,"end":3658,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":35}},"expression":{"type":"CallExpression","start":3627,"end":3658,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":35}},"callee":{"type":"MemberExpression","start":3627,"end":3644,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":21}},"object":{"type":"Identifier","start":3627,"end":3639,"loc":{"start":{"line":193,"column":4},"end":{"line":193,"column":16}},"name":"assignSocket"},"property":{"type":"Identifier","start":3640,"end":3644,"loc":{"start":{"line":193,"column":17},"end":{"line":193,"column":21}},"name":"call"},"computed":false,"optional":false},"arguments":[{"type":"ThisExpression","start":3645,"end":3649,"loc":{"start":{"line":193,"column":22},"end":{"line":193,"column":26}}},{"type":"Identifier","start":3651,"end":3657,"loc":{"start":{"line":193,"column":28},"end":{"line":193,"column":34}},"name":"socket"}],"optional":false}},{"type":"ExpressionStatement","start":3663,"end":3679,"loc":{"start":{"line":194,"column":4},"end":{"line":194,"column":20}},"expression":{"type":"CallExpression","start":3663,"end":3679,"loc":{"start":{"line":194,"column":4},"end":{"line":194,"column":20}},"callee":{"type":"Identifier","start":3663,"end":3671,"loc":{"start":{"line":194,"column":4},"end":{"line":194,"column":12}},"name":"callback"},"arguments":[{"type":"Identifier","start":3672,"end":3678,"loc":{"start":{"line":194,"column":13},"end":{"line":194,"column":19}},"name":"socket"}],"optional":false}}]}}}}]}}],"sourceType":"module"}