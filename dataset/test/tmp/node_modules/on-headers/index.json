{"type":"Program","start":0,"end":2664,"loc":{"start":{"line":1,"column":0},"end":{"line":133,"column":0}},"body":[{"type":"ExpressionStatement","start":87,"end":99,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":12}},"expression":{"type":"Literal","start":87,"end":99,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":12}},"value":"use strict","raw":"'use strict'"},"directive":"use strict"},{"type":"ExpressionStatement","start":140,"end":166,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"expression":{"type":"AssignmentExpression","start":140,"end":166,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":140,"end":154,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":14}},"object":{"type":"Identifier","start":140,"end":146,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":6}},"name":"module"},"property":{"type":"Identifier","start":147,"end":154,"loc":{"start":{"line":14,"column":7},"end":{"line":14,"column":14}},"name":"exports"},"computed":false,"optional":false},"right":{"type":"Identifier","start":157,"end":166,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":26}},"name":"onHeaders"}}},{"type":"FunctionDeclaration","start":299,"end":884,"loc":{"start":{"line":24,"column":0},"end":{"line":46,"column":1}},"id":{"type":"Identifier","start":308,"end":323,"loc":{"start":{"line":24,"column":9},"end":{"line":24,"column":24}},"name":"createWriteHead"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":325,"end":338,"loc":{"start":{"line":24,"column":26},"end":{"line":24,"column":39}},"name":"prevWriteHead"},{"type":"Identifier","start":340,"end":348,"loc":{"start":{"line":24,"column":41},"end":{"line":24,"column":49}},"name":"listener"}],"body":{"type":"BlockStatement","start":350,"end":884,"loc":{"start":{"line":24,"column":51},"end":{"line":46,"column":1}},"body":[{"type":"VariableDeclaration","start":354,"end":371,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":19}},"declarations":[{"type":"VariableDeclarator","start":358,"end":371,"loc":{"start":{"line":25,"column":6},"end":{"line":25,"column":19}},"id":{"type":"Identifier","start":358,"end":363,"loc":{"start":{"line":25,"column":6},"end":{"line":25,"column":11}},"name":"fired"},"init":{"type":"Literal","start":366,"end":371,"loc":{"start":{"line":25,"column":14},"end":{"line":25,"column":19}},"value":false,"raw":"false"}}],"kind":"var"},{"type":"ReturnStatement","start":429,"end":882,"loc":{"start":{"line":28,"column":2},"end":{"line":45,"column":3}},"argument":{"type":"FunctionExpression","start":436,"end":882,"loc":{"start":{"line":28,"column":9},"end":{"line":45,"column":3}},"id":{"type":"Identifier","start":445,"end":454,"loc":{"start":{"line":28,"column":18},"end":{"line":28,"column":27}},"name":"writeHead"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":456,"end":466,"loc":{"start":{"line":28,"column":29},"end":{"line":28,"column":39}},"name":"statusCode"}],"body":{"type":"BlockStatement","start":468,"end":882,"loc":{"start":{"line":28,"column":41},"end":{"line":45,"column":3}},"body":[{"type":"VariableDeclaration","start":508,"end":561,"loc":{"start":{"line":30,"column":4},"end":{"line":30,"column":57}},"declarations":[{"type":"VariableDeclarator","start":512,"end":561,"loc":{"start":{"line":30,"column":8},"end":{"line":30,"column":57}},"id":{"type":"Identifier","start":512,"end":516,"loc":{"start":{"line":30,"column":8},"end":{"line":30,"column":12}},"name":"args"},"init":{"type":"CallExpression","start":519,"end":561,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":57}},"callee":{"type":"MemberExpression","start":519,"end":544,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":40}},"object":{"type":"Identifier","start":519,"end":538,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":34}},"name":"setWriteHeadHeaders"},"property":{"type":"Identifier","start":539,"end":544,"loc":{"start":{"line":30,"column":35},"end":{"line":30,"column":40}},"name":"apply"},"computed":false,"optional":false},"arguments":[{"type":"ThisExpression","start":545,"end":549,"loc":{"start":{"line":30,"column":41},"end":{"line":30,"column":45}}},{"type":"Identifier","start":551,"end":560,"loc":{"start":{"line":30,"column":47},"end":{"line":30,"column":56}},"name":"arguments"}],"optional":false}}],"kind":"var"},{"type":"IfStatement","start":588,"end":834,"loc":{"start":{"line":33,"column":4},"end":{"line":42,"column":5}},"test":{"type":"UnaryExpression","start":592,"end":598,"loc":{"start":{"line":33,"column":8},"end":{"line":33,"column":14}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":593,"end":598,"loc":{"start":{"line":33,"column":9},"end":{"line":33,"column":14}},"name":"fired"}},"consequent":{"type":"BlockStatement","start":600,"end":834,"loc":{"start":{"line":33,"column":16},"end":{"line":42,"column":5}},"body":[{"type":"ExpressionStatement","start":608,"end":620,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":18}},"expression":{"type":"AssignmentExpression","start":608,"end":620,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":18}},"operator":"=","left":{"type":"Identifier","start":608,"end":613,"loc":{"start":{"line":34,"column":6},"end":{"line":34,"column":11}},"name":"fired"},"right":{"type":"Literal","start":616,"end":620,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":18}},"value":true,"raw":"true"}}},{"type":"ExpressionStatement","start":627,"end":646,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":25}},"expression":{"type":"CallExpression","start":627,"end":646,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":25}},"callee":{"type":"MemberExpression","start":627,"end":640,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":19}},"object":{"type":"Identifier","start":627,"end":635,"loc":{"start":{"line":35,"column":6},"end":{"line":35,"column":14}},"name":"listener"},"property":{"type":"Identifier","start":636,"end":640,"loc":{"start":{"line":35,"column":15},"end":{"line":35,"column":19}},"name":"call"},"computed":false,"optional":false},"arguments":[{"type":"ThisExpression","start":641,"end":645,"loc":{"start":{"line":35,"column":20},"end":{"line":35,"column":24}}}],"optional":false}},{"type":"IfStatement","start":697,"end":828,"loc":{"start":{"line":38,"column":6},"end":{"line":41,"column":7}},"test":{"type":"LogicalExpression","start":701,"end":759,"loc":{"start":{"line":38,"column":10},"end":{"line":38,"column":68}},"left":{"type":"BinaryExpression","start":701,"end":728,"loc":{"start":{"line":38,"column":10},"end":{"line":38,"column":37}},"left":{"type":"UnaryExpression","start":701,"end":715,"loc":{"start":{"line":38,"column":10},"end":{"line":38,"column":24}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":708,"end":715,"loc":{"start":{"line":38,"column":17},"end":{"line":38,"column":24}},"object":{"type":"Identifier","start":708,"end":712,"loc":{"start":{"line":38,"column":17},"end":{"line":38,"column":21}},"name":"args"},"property":{"type":"Literal","start":713,"end":714,"loc":{"start":{"line":38,"column":22},"end":{"line":38,"column":23}},"value":0,"raw":"0"},"computed":true,"optional":false}},"operator":"===","right":{"type":"Literal","start":720,"end":728,"loc":{"start":{"line":38,"column":29},"end":{"line":38,"column":37}},"value":"number","raw":"'number'"}},"operator":"&&","right":{"type":"BinaryExpression","start":732,"end":759,"loc":{"start":{"line":38,"column":41},"end":{"line":38,"column":68}},"left":{"type":"MemberExpression","start":732,"end":747,"loc":{"start":{"line":38,"column":41},"end":{"line":38,"column":56}},"object":{"type":"ThisExpression","start":732,"end":736,"loc":{"start":{"line":38,"column":41},"end":{"line":38,"column":45}}},"property":{"type":"Identifier","start":737,"end":747,"loc":{"start":{"line":38,"column":46},"end":{"line":38,"column":56}},"name":"statusCode"},"computed":false,"optional":false},"operator":"!==","right":{"type":"MemberExpression","start":752,"end":759,"loc":{"start":{"line":38,"column":61},"end":{"line":38,"column":68}},"object":{"type":"Identifier","start":752,"end":756,"loc":{"start":{"line":38,"column":61},"end":{"line":38,"column":65}},"name":"args"},"property":{"type":"Literal","start":757,"end":758,"loc":{"start":{"line":38,"column":66},"end":{"line":38,"column":67}},"value":0,"raw":"0"},"computed":true,"optional":false}}},"consequent":{"type":"BlockStatement","start":761,"end":828,"loc":{"start":{"line":38,"column":70},"end":{"line":41,"column":7}},"body":[{"type":"ExpressionStatement","start":771,"end":796,"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"expression":{"type":"AssignmentExpression","start":771,"end":796,"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":33}},"operator":"=","left":{"type":"MemberExpression","start":771,"end":778,"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":15}},"object":{"type":"Identifier","start":771,"end":775,"loc":{"start":{"line":39,"column":8},"end":{"line":39,"column":12}},"name":"args"},"property":{"type":"Literal","start":776,"end":777,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":14}},"value":0,"raw":"0"},"computed":true,"optional":false},"right":{"type":"MemberExpression","start":781,"end":796,"loc":{"start":{"line":39,"column":18},"end":{"line":39,"column":33}},"object":{"type":"ThisExpression","start":781,"end":785,"loc":{"start":{"line":39,"column":18},"end":{"line":39,"column":22}}},"property":{"type":"Identifier","start":786,"end":796,"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":33}},"name":"statusCode"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":805,"end":820,"loc":{"start":{"line":40,"column":8},"end":{"line":40,"column":23}},"expression":{"type":"AssignmentExpression","start":805,"end":820,"loc":{"start":{"line":40,"column":8},"end":{"line":40,"column":23}},"operator":"=","left":{"type":"MemberExpression","start":805,"end":816,"loc":{"start":{"line":40,"column":8},"end":{"line":40,"column":19}},"object":{"type":"Identifier","start":805,"end":809,"loc":{"start":{"line":40,"column":8},"end":{"line":40,"column":12}},"name":"args"},"property":{"type":"Identifier","start":810,"end":816,"loc":{"start":{"line":40,"column":13},"end":{"line":40,"column":19}},"name":"length"},"computed":false,"optional":false},"right":{"type":"Literal","start":819,"end":820,"loc":{"start":{"line":40,"column":22},"end":{"line":40,"column":23}},"value":1,"raw":"1"}}}]},"alternate":null}]},"alternate":null},{"type":"ReturnStatement","start":840,"end":878,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":42}},"argument":{"type":"CallExpression","start":847,"end":878,"loc":{"start":{"line":44,"column":11},"end":{"line":44,"column":42}},"callee":{"type":"MemberExpression","start":847,"end":866,"loc":{"start":{"line":44,"column":11},"end":{"line":44,"column":30}},"object":{"type":"Identifier","start":847,"end":860,"loc":{"start":{"line":44,"column":11},"end":{"line":44,"column":24}},"name":"prevWriteHead"},"property":{"type":"Identifier","start":861,"end":866,"loc":{"start":{"line":44,"column":25},"end":{"line":44,"column":30}},"name":"apply"},"computed":false,"optional":false},"arguments":[{"type":"ThisExpression","start":867,"end":871,"loc":{"start":{"line":44,"column":31},"end":{"line":44,"column":35}}},{"type":"Identifier","start":873,"end":877,"loc":{"start":{"line":44,"column":37},"end":{"line":44,"column":41}},"name":"args"}],"optional":false}}]}}}]}},{"type":"FunctionDeclaration","start":1028,"end":1305,"loc":{"start":{"line":56,"column":0},"end":{"line":66,"column":1}},"id":{"type":"Identifier","start":1037,"end":1046,"loc":{"start":{"line":56,"column":9},"end":{"line":56,"column":18}},"name":"onHeaders"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1048,"end":1051,"loc":{"start":{"line":56,"column":20},"end":{"line":56,"column":23}},"name":"res"},{"type":"Identifier","start":1053,"end":1061,"loc":{"start":{"line":56,"column":25},"end":{"line":56,"column":33}},"name":"listener"}],"body":{"type":"BlockStatement","start":1063,"end":1305,"loc":{"start":{"line":56,"column":35},"end":{"line":66,"column":1}},"body":[{"type":"IfStatement","start":1067,"end":1134,"loc":{"start":{"line":57,"column":2},"end":{"line":59,"column":3}},"test":{"type":"UnaryExpression","start":1071,"end":1075,"loc":{"start":{"line":57,"column":6},"end":{"line":57,"column":10}},"operator":"!","prefix":true,"argument":{"type":"Identifier","start":1072,"end":1075,"loc":{"start":{"line":57,"column":7},"end":{"line":57,"column":10}},"name":"res"}},"consequent":{"type":"BlockStatement","start":1077,"end":1134,"loc":{"start":{"line":57,"column":12},"end":{"line":59,"column":3}},"body":[{"type":"ThrowStatement","start":1083,"end":1130,"loc":{"start":{"line":58,"column":4},"end":{"line":58,"column":51}},"argument":{"type":"NewExpression","start":1089,"end":1130,"loc":{"start":{"line":58,"column":10},"end":{"line":58,"column":51}},"callee":{"type":"Identifier","start":1093,"end":1102,"loc":{"start":{"line":58,"column":14},"end":{"line":58,"column":23}},"name":"TypeError"},"arguments":[{"type":"Literal","start":1103,"end":1129,"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":50}},"value":"argument res is required","raw":"'argument res is required'"}]}}]},"alternate":null},{"type":"IfStatement","start":1138,"end":1243,"loc":{"start":{"line":61,"column":2},"end":{"line":63,"column":3}},"test":{"type":"BinaryExpression","start":1142,"end":1172,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":36}},"left":{"type":"UnaryExpression","start":1142,"end":1157,"loc":{"start":{"line":61,"column":6},"end":{"line":61,"column":21}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":1149,"end":1157,"loc":{"start":{"line":61,"column":13},"end":{"line":61,"column":21}},"name":"listener"}},"operator":"!==","right":{"type":"Literal","start":1162,"end":1172,"loc":{"start":{"line":61,"column":26},"end":{"line":61,"column":36}},"value":"function","raw":"'function'"}},"consequent":{"type":"BlockStatement","start":1174,"end":1243,"loc":{"start":{"line":61,"column":38},"end":{"line":63,"column":3}},"body":[{"type":"ThrowStatement","start":1180,"end":1239,"loc":{"start":{"line":62,"column":4},"end":{"line":62,"column":63}},"argument":{"type":"NewExpression","start":1186,"end":1239,"loc":{"start":{"line":62,"column":10},"end":{"line":62,"column":63}},"callee":{"type":"Identifier","start":1190,"end":1199,"loc":{"start":{"line":62,"column":14},"end":{"line":62,"column":23}},"name":"TypeError"},"arguments":[{"type":"Literal","start":1200,"end":1238,"loc":{"start":{"line":62,"column":24},"end":{"line":62,"column":62}},"value":"argument listener must be a function","raw":"'argument listener must be a function'"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":1247,"end":1303,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":58}},"expression":{"type":"AssignmentExpression","start":1247,"end":1303,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":58}},"operator":"=","left":{"type":"MemberExpression","start":1247,"end":1260,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":15}},"object":{"type":"Identifier","start":1247,"end":1250,"loc":{"start":{"line":65,"column":2},"end":{"line":65,"column":5}},"name":"res"},"property":{"type":"Identifier","start":1251,"end":1260,"loc":{"start":{"line":65,"column":6},"end":{"line":65,"column":15}},"name":"writeHead"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1263,"end":1303,"loc":{"start":{"line":65,"column":18},"end":{"line":65,"column":58}},"callee":{"type":"Identifier","start":1263,"end":1278,"loc":{"start":{"line":65,"column":18},"end":{"line":65,"column":33}},"name":"createWriteHead"},"arguments":[{"type":"MemberExpression","start":1279,"end":1292,"loc":{"start":{"line":65,"column":34},"end":{"line":65,"column":47}},"object":{"type":"Identifier","start":1279,"end":1282,"loc":{"start":{"line":65,"column":34},"end":{"line":65,"column":37}},"name":"res"},"property":{"type":"Identifier","start":1283,"end":1292,"loc":{"start":{"line":65,"column":38},"end":{"line":65,"column":47}},"name":"writeHead"},"computed":false,"optional":false},{"type":"Identifier","start":1294,"end":1302,"loc":{"start":{"line":65,"column":49},"end":{"line":65,"column":57}},"name":"listener"}],"optional":false}}}]}},{"type":"FunctionDeclaration","start":1438,"end":1582,"loc":{"start":{"line":76,"column":0},"end":{"line":80,"column":1}},"id":{"type":"Identifier","start":1447,"end":1466,"loc":{"start":{"line":76,"column":9},"end":{"line":76,"column":28}},"name":"setHeadersFromArray"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1468,"end":1471,"loc":{"start":{"line":76,"column":30},"end":{"line":76,"column":33}},"name":"res"},{"type":"Identifier","start":1473,"end":1480,"loc":{"start":{"line":76,"column":35},"end":{"line":76,"column":42}},"name":"headers"}],"body":{"type":"BlockStatement","start":1482,"end":1582,"loc":{"start":{"line":76,"column":44},"end":{"line":80,"column":1}},"body":[{"type":"ForStatement","start":1486,"end":1580,"loc":{"start":{"line":77,"column":2},"end":{"line":79,"column":3}},"init":{"type":"VariableDeclaration","start":1491,"end":1500,"loc":{"start":{"line":77,"column":7},"end":{"line":77,"column":16}},"declarations":[{"type":"VariableDeclarator","start":1495,"end":1500,"loc":{"start":{"line":77,"column":11},"end":{"line":77,"column":16}},"id":{"type":"Identifier","start":1495,"end":1496,"loc":{"start":{"line":77,"column":11},"end":{"line":77,"column":12}},"name":"i"},"init":{"type":"Literal","start":1499,"end":1500,"loc":{"start":{"line":77,"column":15},"end":{"line":77,"column":16}},"value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":1502,"end":1520,"loc":{"start":{"line":77,"column":18},"end":{"line":77,"column":36}},"left":{"type":"Identifier","start":1502,"end":1503,"loc":{"start":{"line":77,"column":18},"end":{"line":77,"column":19}},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":1506,"end":1520,"loc":{"start":{"line":77,"column":22},"end":{"line":77,"column":36}},"object":{"type":"Identifier","start":1506,"end":1513,"loc":{"start":{"line":77,"column":22},"end":{"line":77,"column":29}},"name":"headers"},"property":{"type":"Identifier","start":1514,"end":1520,"loc":{"start":{"line":77,"column":30},"end":{"line":77,"column":36}},"name":"length"},"computed":false,"optional":false}},"update":{"type":"UpdateExpression","start":1522,"end":1525,"loc":{"start":{"line":77,"column":38},"end":{"line":77,"column":41}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":1522,"end":1523,"loc":{"start":{"line":77,"column":38},"end":{"line":77,"column":39}},"name":"i"}},"body":{"type":"BlockStatement","start":1527,"end":1580,"loc":{"start":{"line":77,"column":43},"end":{"line":79,"column":3}},"body":[{"type":"ExpressionStatement","start":1533,"end":1576,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":47}},"expression":{"type":"CallExpression","start":1533,"end":1576,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":47}},"callee":{"type":"MemberExpression","start":1533,"end":1546,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":17}},"object":{"type":"Identifier","start":1533,"end":1536,"loc":{"start":{"line":78,"column":4},"end":{"line":78,"column":7}},"name":"res"},"property":{"type":"Identifier","start":1537,"end":1546,"loc":{"start":{"line":78,"column":8},"end":{"line":78,"column":17}},"name":"setHeader"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":1547,"end":1560,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":31}},"object":{"type":"MemberExpression","start":1547,"end":1557,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":28}},"object":{"type":"Identifier","start":1547,"end":1554,"loc":{"start":{"line":78,"column":18},"end":{"line":78,"column":25}},"name":"headers"},"property":{"type":"Identifier","start":1555,"end":1556,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":27}},"name":"i"},"computed":true,"optional":false},"property":{"type":"Literal","start":1558,"end":1559,"loc":{"start":{"line":78,"column":29},"end":{"line":78,"column":30}},"value":0,"raw":"0"},"computed":true,"optional":false},{"type":"MemberExpression","start":1562,"end":1575,"loc":{"start":{"line":78,"column":33},"end":{"line":78,"column":46}},"object":{"type":"MemberExpression","start":1562,"end":1572,"loc":{"start":{"line":78,"column":33},"end":{"line":78,"column":43}},"object":{"type":"Identifier","start":1562,"end":1569,"loc":{"start":{"line":78,"column":33},"end":{"line":78,"column":40}},"name":"headers"},"property":{"type":"Identifier","start":1570,"end":1571,"loc":{"start":{"line":78,"column":41},"end":{"line":78,"column":42}},"name":"i"},"computed":true,"optional":false},"property":{"type":"Literal","start":1573,"end":1574,"loc":{"start":{"line":78,"column":44},"end":{"line":78,"column":45}},"value":1,"raw":"1"},"computed":true,"optional":false}],"optional":false}}]}}]}},{"type":"FunctionDeclaration","start":1717,"end":1905,"loc":{"start":{"line":90,"column":0},"end":{"line":96,"column":1}},"id":{"type":"Identifier","start":1726,"end":1746,"loc":{"start":{"line":90,"column":9},"end":{"line":90,"column":29}},"name":"setHeadersFromObject"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1748,"end":1751,"loc":{"start":{"line":90,"column":31},"end":{"line":90,"column":34}},"name":"res"},{"type":"Identifier","start":1753,"end":1760,"loc":{"start":{"line":90,"column":36},"end":{"line":90,"column":43}},"name":"headers"}],"body":{"type":"BlockStatement","start":1762,"end":1905,"loc":{"start":{"line":90,"column":45},"end":{"line":96,"column":1}},"body":[{"type":"VariableDeclaration","start":1766,"end":1797,"loc":{"start":{"line":91,"column":2},"end":{"line":91,"column":33}},"declarations":[{"type":"VariableDeclarator","start":1770,"end":1797,"loc":{"start":{"line":91,"column":6},"end":{"line":91,"column":33}},"id":{"type":"Identifier","start":1770,"end":1774,"loc":{"start":{"line":91,"column":6},"end":{"line":91,"column":10}},"name":"keys"},"init":{"type":"CallExpression","start":1777,"end":1797,"loc":{"start":{"line":91,"column":13},"end":{"line":91,"column":33}},"callee":{"type":"MemberExpression","start":1777,"end":1788,"loc":{"start":{"line":91,"column":13},"end":{"line":91,"column":24}},"object":{"type":"Identifier","start":1777,"end":1783,"loc":{"start":{"line":91,"column":13},"end":{"line":91,"column":19}},"name":"Object"},"property":{"type":"Identifier","start":1784,"end":1788,"loc":{"start":{"line":91,"column":20},"end":{"line":91,"column":24}},"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1789,"end":1796,"loc":{"start":{"line":91,"column":25},"end":{"line":91,"column":32}},"name":"headers"}],"optional":false}}],"kind":"var"},{"type":"ForStatement","start":1800,"end":1903,"loc":{"start":{"line":92,"column":2},"end":{"line":95,"column":3}},"init":{"type":"VariableDeclaration","start":1805,"end":1814,"loc":{"start":{"line":92,"column":7},"end":{"line":92,"column":16}},"declarations":[{"type":"VariableDeclarator","start":1809,"end":1814,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":16}},"id":{"type":"Identifier","start":1809,"end":1810,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":12}},"name":"i"},"init":{"type":"Literal","start":1813,"end":1814,"loc":{"start":{"line":92,"column":15},"end":{"line":92,"column":16}},"value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":1816,"end":1831,"loc":{"start":{"line":92,"column":18},"end":{"line":92,"column":33}},"left":{"type":"Identifier","start":1816,"end":1817,"loc":{"start":{"line":92,"column":18},"end":{"line":92,"column":19}},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":1820,"end":1831,"loc":{"start":{"line":92,"column":22},"end":{"line":92,"column":33}},"object":{"type":"Identifier","start":1820,"end":1824,"loc":{"start":{"line":92,"column":22},"end":{"line":92,"column":26}},"name":"keys"},"property":{"type":"Identifier","start":1825,"end":1831,"loc":{"start":{"line":92,"column":27},"end":{"line":92,"column":33}},"name":"length"},"computed":false,"optional":false}},"update":{"type":"UpdateExpression","start":1833,"end":1836,"loc":{"start":{"line":92,"column":35},"end":{"line":92,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":1833,"end":1834,"loc":{"start":{"line":92,"column":35},"end":{"line":92,"column":36}},"name":"i"}},"body":{"type":"BlockStatement","start":1838,"end":1903,"loc":{"start":{"line":92,"column":40},"end":{"line":95,"column":3}},"body":[{"type":"VariableDeclaration","start":1844,"end":1859,"loc":{"start":{"line":93,"column":4},"end":{"line":93,"column":19}},"declarations":[{"type":"VariableDeclarator","start":1848,"end":1859,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":19}},"id":{"type":"Identifier","start":1848,"end":1849,"loc":{"start":{"line":93,"column":8},"end":{"line":93,"column":9}},"name":"k"},"init":{"type":"MemberExpression","start":1852,"end":1859,"loc":{"start":{"line":93,"column":12},"end":{"line":93,"column":19}},"object":{"type":"Identifier","start":1852,"end":1856,"loc":{"start":{"line":93,"column":12},"end":{"line":93,"column":16}},"name":"keys"},"property":{"type":"Identifier","start":1857,"end":1858,"loc":{"start":{"line":93,"column":17},"end":{"line":93,"column":18}},"name":"i"},"computed":true,"optional":false}}],"kind":"var"},{"type":"IfStatement","start":1864,"end":1899,"loc":{"start":{"line":94,"column":4},"end":{"line":94,"column":39}},"test":{"type":"Identifier","start":1868,"end":1869,"loc":{"start":{"line":94,"column":8},"end":{"line":94,"column":9}},"name":"k"},"consequent":{"type":"ExpressionStatement","start":1871,"end":1899,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":39}},"expression":{"type":"CallExpression","start":1871,"end":1899,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":39}},"callee":{"type":"MemberExpression","start":1871,"end":1884,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":24}},"object":{"type":"Identifier","start":1871,"end":1874,"loc":{"start":{"line":94,"column":11},"end":{"line":94,"column":14}},"name":"res"},"property":{"type":"Identifier","start":1875,"end":1884,"loc":{"start":{"line":94,"column":15},"end":{"line":94,"column":24}},"name":"setHeader"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1885,"end":1886,"loc":{"start":{"line":94,"column":25},"end":{"line":94,"column":26}},"name":"k"},{"type":"MemberExpression","start":1888,"end":1898,"loc":{"start":{"line":94,"column":28},"end":{"line":94,"column":38}},"object":{"type":"Identifier","start":1888,"end":1895,"loc":{"start":{"line":94,"column":28},"end":{"line":94,"column":35}},"name":"headers"},"property":{"type":"Identifier","start":1896,"end":1897,"loc":{"start":{"line":94,"column":36},"end":{"line":94,"column":37}},"name":"k"},"computed":true,"optional":false}],"optional":false}},"alternate":null}]}}]}},{"type":"FunctionDeclaration","start":2021,"end":2663,"loc":{"start":{"line":105,"column":0},"end":{"line":132,"column":1}},"id":{"type":"Identifier","start":2030,"end":2049,"loc":{"start":{"line":105,"column":9},"end":{"line":105,"column":28}},"name":"setWriteHeadHeaders"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2051,"end":2061,"loc":{"start":{"line":105,"column":30},"end":{"line":105,"column":40}},"name":"statusCode"}],"body":{"type":"BlockStatement","start":2063,"end":2663,"loc":{"start":{"line":105,"column":42},"end":{"line":132,"column":1}},"body":[{"type":"VariableDeclaration","start":2067,"end":2096,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":31}},"declarations":[{"type":"VariableDeclarator","start":2071,"end":2096,"loc":{"start":{"line":106,"column":6},"end":{"line":106,"column":31}},"id":{"type":"Identifier","start":2071,"end":2077,"loc":{"start":{"line":106,"column":6},"end":{"line":106,"column":12}},"name":"length"},"init":{"type":"MemberExpression","start":2080,"end":2096,"loc":{"start":{"line":106,"column":15},"end":{"line":106,"column":31}},"object":{"type":"Identifier","start":2080,"end":2089,"loc":{"start":{"line":106,"column":15},"end":{"line":106,"column":24}},"name":"arguments"},"property":{"type":"Identifier","start":2090,"end":2096,"loc":{"start":{"line":106,"column":25},"end":{"line":106,"column":31}},"name":"length"},"computed":false,"optional":false}}],"kind":"var"},{"type":"VariableDeclaration","start":2099,"end":2179,"loc":{"start":{"line":107,"column":2},"end":{"line":109,"column":7}},"declarations":[{"type":"VariableDeclarator","start":2103,"end":2179,"loc":{"start":{"line":107,"column":6},"end":{"line":109,"column":7}},"id":{"type":"Identifier","start":2103,"end":2114,"loc":{"start":{"line":107,"column":6},"end":{"line":107,"column":17}},"name":"headerIndex"},"init":{"type":"ConditionalExpression","start":2117,"end":2179,"loc":{"start":{"line":107,"column":20},"end":{"line":109,"column":7}},"test":{"type":"LogicalExpression","start":2117,"end":2163,"loc":{"start":{"line":107,"column":20},"end":{"line":107,"column":66}},"left":{"type":"BinaryExpression","start":2117,"end":2127,"loc":{"start":{"line":107,"column":20},"end":{"line":107,"column":30}},"left":{"type":"Identifier","start":2117,"end":2123,"loc":{"start":{"line":107,"column":20},"end":{"line":107,"column":26}},"name":"length"},"operator":">","right":{"type":"Literal","start":2126,"end":2127,"loc":{"start":{"line":107,"column":29},"end":{"line":107,"column":30}},"value":1,"raw":"1"}},"operator":"&&","right":{"type":"BinaryExpression","start":2131,"end":2163,"loc":{"start":{"line":107,"column":34},"end":{"line":107,"column":66}},"left":{"type":"UnaryExpression","start":2131,"end":2150,"loc":{"start":{"line":107,"column":34},"end":{"line":107,"column":53}},"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":2138,"end":2150,"loc":{"start":{"line":107,"column":41},"end":{"line":107,"column":53}},"object":{"type":"Identifier","start":2138,"end":2147,"loc":{"start":{"line":107,"column":41},"end":{"line":107,"column":50}},"name":"arguments"},"property":{"type":"Literal","start":2148,"end":2149,"loc":{"start":{"line":107,"column":51},"end":{"line":107,"column":52}},"value":1,"raw":"1"},"computed":true,"optional":false}},"operator":"===","right":{"type":"Literal","start":2155,"end":2163,"loc":{"start":{"line":107,"column":58},"end":{"line":107,"column":66}},"value":"string","raw":"'string'"}}},"consequent":{"type":"Literal","start":2170,"end":2171,"loc":{"start":{"line":108,"column":6},"end":{"line":108,"column":7}},"value":2,"raw":"2"},"alternate":{"type":"Literal","start":2178,"end":2179,"loc":{"start":{"line":109,"column":6},"end":{"line":109,"column":7}},"value":1,"raw":"1"}}}],"kind":"var"},{"type":"VariableDeclaration","start":2183,"end":2267,"loc":{"start":{"line":111,"column":2},"end":{"line":113,"column":15}},"declarations":[{"type":"VariableDeclarator","start":2187,"end":2267,"loc":{"start":{"line":111,"column":6},"end":{"line":113,"column":15}},"id":{"type":"Identifier","start":2187,"end":2194,"loc":{"start":{"line":111,"column":6},"end":{"line":111,"column":13}},"name":"headers"},"init":{"type":"ConditionalExpression","start":2197,"end":2267,"loc":{"start":{"line":111,"column":16},"end":{"line":113,"column":15}},"test":{"type":"BinaryExpression","start":2197,"end":2222,"loc":{"start":{"line":111,"column":16},"end":{"line":111,"column":41}},"left":{"type":"Identifier","start":2197,"end":2203,"loc":{"start":{"line":111,"column":16},"end":{"line":111,"column":22}},"name":"length"},"operator":">=","right":{"type":"BinaryExpression","start":2207,"end":2222,"loc":{"start":{"line":111,"column":26},"end":{"line":111,"column":41}},"left":{"type":"Identifier","start":2207,"end":2218,"loc":{"start":{"line":111,"column":26},"end":{"line":111,"column":37}},"name":"headerIndex"},"operator":"+","right":{"type":"Literal","start":2221,"end":2222,"loc":{"start":{"line":111,"column":40},"end":{"line":111,"column":41}},"value":1,"raw":"1"}}},"consequent":{"type":"MemberExpression","start":2229,"end":2251,"loc":{"start":{"line":112,"column":6},"end":{"line":112,"column":28}},"object":{"type":"Identifier","start":2229,"end":2238,"loc":{"start":{"line":112,"column":6},"end":{"line":112,"column":15}},"name":"arguments"},"property":{"type":"Identifier","start":2239,"end":2250,"loc":{"start":{"line":112,"column":16},"end":{"line":112,"column":27}},"name":"headerIndex"},"computed":true,"optional":false},"alternate":{"type":"Identifier","start":2258,"end":2267,"loc":{"start":{"line":113,"column":6},"end":{"line":113,"column":15}},"name":"undefined"}}}],"kind":"var"},{"type":"ExpressionStatement","start":2271,"end":2299,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":30}},"expression":{"type":"AssignmentExpression","start":2271,"end":2299,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":30}},"operator":"=","left":{"type":"MemberExpression","start":2271,"end":2286,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":17}},"object":{"type":"ThisExpression","start":2271,"end":2275,"loc":{"start":{"line":115,"column":2},"end":{"line":115,"column":6}}},"property":{"type":"Identifier","start":2276,"end":2286,"loc":{"start":{"line":115,"column":7},"end":{"line":115,"column":17}},"name":"statusCode"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2289,"end":2299,"loc":{"start":{"line":115,"column":20},"end":{"line":115,"column":30}},"name":"statusCode"}}},{"type":"IfStatement","start":2303,"end":2490,"loc":{"start":{"line":117,"column":2},"end":{"line":123,"column":3}},"test":{"type":"CallExpression","start":2307,"end":2329,"loc":{"start":{"line":117,"column":6},"end":{"line":117,"column":28}},"callee":{"type":"MemberExpression","start":2307,"end":2320,"loc":{"start":{"line":117,"column":6},"end":{"line":117,"column":19}},"object":{"type":"Identifier","start":2307,"end":2312,"loc":{"start":{"line":117,"column":6},"end":{"line":117,"column":11}},"name":"Array"},"property":{"type":"Identifier","start":2313,"end":2320,"loc":{"start":{"line":117,"column":12},"end":{"line":117,"column":19}},"name":"isArray"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2321,"end":2328,"loc":{"start":{"line":117,"column":20},"end":{"line":117,"column":27}},"name":"headers"}],"optional":false},"consequent":{"type":"BlockStatement","start":2331,"end":2400,"loc":{"start":{"line":117,"column":30},"end":{"line":120,"column":3}},"body":[{"type":"ExpressionStatement","start":2362,"end":2396,"loc":{"start":{"line":119,"column":4},"end":{"line":119,"column":38}},"expression":{"type":"CallExpression","start":2362,"end":2396,"loc":{"start":{"line":119,"column":4},"end":{"line":119,"column":38}},"callee":{"type":"Identifier","start":2362,"end":2381,"loc":{"start":{"line":119,"column":4},"end":{"line":119,"column":23}},"name":"setHeadersFromArray"},"arguments":[{"type":"ThisExpression","start":2382,"end":2386,"loc":{"start":{"line":119,"column":24},"end":{"line":119,"column":28}}},{"type":"Identifier","start":2388,"end":2395,"loc":{"start":{"line":119,"column":30},"end":{"line":119,"column":37}},"name":"headers"}],"optional":false}}]},"alternate":{"type":"IfStatement","start":2406,"end":2490,"loc":{"start":{"line":120,"column":9},"end":{"line":123,"column":3}},"test":{"type":"Identifier","start":2410,"end":2417,"loc":{"start":{"line":120,"column":13},"end":{"line":120,"column":20}},"name":"headers"},"consequent":{"type":"BlockStatement","start":2419,"end":2490,"loc":{"start":{"line":120,"column":22},"end":{"line":123,"column":3}},"body":[{"type":"ExpressionStatement","start":2451,"end":2486,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":39}},"expression":{"type":"CallExpression","start":2451,"end":2486,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":39}},"callee":{"type":"Identifier","start":2451,"end":2471,"loc":{"start":{"line":122,"column":4},"end":{"line":122,"column":24}},"name":"setHeadersFromObject"},"arguments":[{"type":"ThisExpression","start":2472,"end":2476,"loc":{"start":{"line":122,"column":25},"end":{"line":122,"column":29}}},{"type":"Identifier","start":2478,"end":2485,"loc":{"start":{"line":122,"column":31},"end":{"line":122,"column":38}},"name":"headers"}],"optional":false}}]},"alternate":null}},{"type":"VariableDeclaration","start":2522,"end":2573,"loc":{"start":{"line":126,"column":2},"end":{"line":126,"column":53}},"declarations":[{"type":"VariableDeclarator","start":2526,"end":2573,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":53}},"id":{"type":"Identifier","start":2526,"end":2530,"loc":{"start":{"line":126,"column":6},"end":{"line":126,"column":10}},"name":"args"},"init":{"type":"NewExpression","start":2533,"end":2573,"loc":{"start":{"line":126,"column":13},"end":{"line":126,"column":53}},"callee":{"type":"Identifier","start":2537,"end":2542,"loc":{"start":{"line":126,"column":17},"end":{"line":126,"column":22}},"name":"Array"},"arguments":[{"type":"CallExpression","start":2543,"end":2572,"loc":{"start":{"line":126,"column":23},"end":{"line":126,"column":52}},"callee":{"type":"MemberExpression","start":2543,"end":2551,"loc":{"start":{"line":126,"column":23},"end":{"line":126,"column":31}},"object":{"type":"Identifier","start":2543,"end":2547,"loc":{"start":{"line":126,"column":23},"end":{"line":126,"column":27}},"name":"Math"},"property":{"type":"Identifier","start":2548,"end":2551,"loc":{"start":{"line":126,"column":28},"end":{"line":126,"column":31}},"name":"min"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2552,"end":2558,"loc":{"start":{"line":126,"column":32},"end":{"line":126,"column":38}},"name":"length"},{"type":"Identifier","start":2560,"end":2571,"loc":{"start":{"line":126,"column":40},"end":{"line":126,"column":51}},"name":"headerIndex"}],"optional":false}]}}],"kind":"var"},{"type":"ForStatement","start":2576,"end":2646,"loc":{"start":{"line":127,"column":2},"end":{"line":129,"column":3}},"init":{"type":"VariableDeclaration","start":2581,"end":2590,"loc":{"start":{"line":127,"column":7},"end":{"line":127,"column":16}},"declarations":[{"type":"VariableDeclarator","start":2585,"end":2590,"loc":{"start":{"line":127,"column":11},"end":{"line":127,"column":16}},"id":{"type":"Identifier","start":2585,"end":2586,"loc":{"start":{"line":127,"column":11},"end":{"line":127,"column":12}},"name":"i"},"init":{"type":"Literal","start":2589,"end":2590,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":16}},"value":0,"raw":"0"}}],"kind":"var"},"test":{"type":"BinaryExpression","start":2592,"end":2607,"loc":{"start":{"line":127,"column":18},"end":{"line":127,"column":33}},"left":{"type":"Identifier","start":2592,"end":2593,"loc":{"start":{"line":127,"column":18},"end":{"line":127,"column":19}},"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":2596,"end":2607,"loc":{"start":{"line":127,"column":22},"end":{"line":127,"column":33}},"object":{"type":"Identifier","start":2596,"end":2600,"loc":{"start":{"line":127,"column":22},"end":{"line":127,"column":26}},"name":"args"},"property":{"type":"Identifier","start":2601,"end":2607,"loc":{"start":{"line":127,"column":27},"end":{"line":127,"column":33}},"name":"length"},"computed":false,"optional":false}},"update":{"type":"UpdateExpression","start":2609,"end":2612,"loc":{"start":{"line":127,"column":35},"end":{"line":127,"column":38}},"operator":"++","prefix":false,"argument":{"type":"Identifier","start":2609,"end":2610,"loc":{"start":{"line":127,"column":35},"end":{"line":127,"column":36}},"name":"i"}},"body":{"type":"BlockStatement","start":2614,"end":2646,"loc":{"start":{"line":127,"column":40},"end":{"line":129,"column":3}},"body":[{"type":"ExpressionStatement","start":2620,"end":2642,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":26}},"expression":{"type":"AssignmentExpression","start":2620,"end":2642,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":2620,"end":2627,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":11}},"object":{"type":"Identifier","start":2620,"end":2624,"loc":{"start":{"line":128,"column":4},"end":{"line":128,"column":8}},"name":"args"},"property":{"type":"Identifier","start":2625,"end":2626,"loc":{"start":{"line":128,"column":9},"end":{"line":128,"column":10}},"name":"i"},"computed":true,"optional":false},"right":{"type":"MemberExpression","start":2630,"end":2642,"loc":{"start":{"line":128,"column":14},"end":{"line":128,"column":26}},"object":{"type":"Identifier","start":2630,"end":2639,"loc":{"start":{"line":128,"column":14},"end":{"line":128,"column":23}},"name":"arguments"},"property":{"type":"Identifier","start":2640,"end":2641,"loc":{"start":{"line":128,"column":24},"end":{"line":128,"column":25}},"name":"i"},"computed":true,"optional":false}}}]}},{"type":"ReturnStatement","start":2650,"end":2661,"loc":{"start":{"line":131,"column":2},"end":{"line":131,"column":13}},"argument":{"type":"Identifier","start":2657,"end":2661,"loc":{"start":{"line":131,"column":9},"end":{"line":131,"column":13}},"name":"args"}}]}}],"sourceType":"module"}