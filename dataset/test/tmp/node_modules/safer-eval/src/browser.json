{"type":"Program","start":0,"end":2411,"loc":{"start":{"line":1,"column":0},"end":{"line":84,"column":0}},"body":[{"type":"ExpressionStatement","start":52,"end":64,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":12}},"expression":{"type":"Literal","start":52,"end":64,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":12}},"value":"use strict","raw":"'use strict'"},"directive":"use strict"},{"type":"VariableDeclaration","start":66,"end":118,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":52}},"declarations":[{"type":"VariableDeclarator","start":72,"end":118,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":52}},"id":{"type":"ObjectPattern","start":72,"end":96,"loc":{"start":{"line":8,"column":6},"end":{"line":8,"column":30}},"properties":[{"type":"Property","start":74,"end":87,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":21}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":74,"end":87,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":21}},"name":"createContext"},"kind":"init","value":{"type":"Identifier","start":74,"end":87,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":21}},"name":"createContext"}},{"type":"Property","start":89,"end":94,"loc":{"start":{"line":8,"column":23},"end":{"line":8,"column":28}},"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":89,"end":94,"loc":{"start":{"line":8,"column":23},"end":{"line":8,"column":28}},"name":"allow"},"kind":"init","value":{"type":"Identifier","start":89,"end":94,"loc":{"start":{"line":8,"column":23},"end":{"line":8,"column":28}},"name":"allow"}}]},"init":{"type":"CallExpression","start":99,"end":118,"loc":{"start":{"line":8,"column":33},"end":{"line":8,"column":52}},"callee":{"type":"Identifier","start":99,"end":106,"loc":{"start":{"line":8,"column":33},"end":{"line":8,"column":40}},"name":"require"},"arguments":[{"type":"Literal","start":107,"end":117,"loc":{"start":{"line":8,"column":41},"end":{"line":8,"column":51}},"value":"./common","raw":"'./common'"}],"optional":false}}],"kind":"const"},{"type":"ClassDeclaration","start":365,"end":1271,"loc":{"start":{"line":19,"column":0},"end":{"line":51,"column":1}},"id":{"type":"Identifier","start":371,"end":380,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":15}},"name":"SaferEval"},"superClass":null,"body":{"type":"ClassBody","start":381,"end":1271,"loc":{"start":{"line":19,"column":16},"end":{"line":51,"column":1}},"body":[{"type":"MethodDefinition","start":444,"end":650,"loc":{"start":{"line":23,"column":2},"end":{"line":30,"column":3}},"static":false,"computed":false,"key":{"type":"Identifier","start":444,"end":455,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":13}},"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":456,"end":650,"loc":{"start":{"line":23,"column":14},"end":{"line":30,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":457,"end":464,"loc":{"start":{"line":23,"column":15},"end":{"line":23,"column":22}},"name":"context"}],"body":{"type":"BlockStatement","start":466,"end":650,"loc":{"start":{"line":23,"column":24},"end":{"line":30,"column":3}},"body":[{"type":"VariableDeclaration","start":516,"end":549,"loc":{"start":{"line":25,"column":4},"end":{"line":25,"column":37}},"declarations":[{"type":"VariableDeclarator","start":522,"end":549,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":37}},"id":{"type":"Identifier","start":522,"end":531,"loc":{"start":{"line":25,"column":10},"end":{"line":25,"column":19}},"name":"__context"},"init":{"type":"CallExpression","start":534,"end":549,"loc":{"start":{"line":25,"column":22},"end":{"line":25,"column":37}},"callee":{"type":"Identifier","start":534,"end":547,"loc":{"start":{"line":25,"column":22},"end":{"line":25,"column":35}},"name":"createContext"},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":590,"end":615,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":29}},"expression":{"type":"CallExpression","start":590,"end":615,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":29}},"callee":{"type":"Identifier","start":590,"end":595,"loc":{"start":{"line":27,"column":4},"end":{"line":27,"column":9}},"name":"allow"},"arguments":[{"type":"Identifier","start":596,"end":603,"loc":{"start":{"line":27,"column":10},"end":{"line":27,"column":17}},"name":"context"},{"type":"Identifier","start":605,"end":614,"loc":{"start":{"line":27,"column":19},"end":{"line":27,"column":28}},"name":"__context"}],"optional":false}},{"type":"ExpressionStatement","start":621,"end":646,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":29}},"expression":{"type":"AssignmentExpression","start":621,"end":646,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":29}},"operator":"=","left":{"type":"MemberExpression","start":621,"end":634,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":17}},"object":{"type":"ThisExpression","start":621,"end":625,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":8}}},"property":{"type":"Identifier","start":626,"end":634,"loc":{"start":{"line":29,"column":9},"end":{"line":29,"column":17}},"name":"_context"},"computed":false,"optional":false},"right":{"type":"Identifier","start":637,"end":646,"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":29}},"name":"__context"}}}]}}},{"type":"MethodDefinition","start":761,"end":1269,"loc":{"start":{"line":36,"column":2},"end":{"line":50,"column":3}},"static":false,"computed":false,"key":{"type":"Identifier","start":761,"end":773,"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":14}},"name":"runInContext"},"kind":"method","value":{"type":"FunctionExpression","start":774,"end":1269,"loc":{"start":{"line":36,"column":15},"end":{"line":50,"column":3}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":775,"end":779,"loc":{"start":{"line":36,"column":16},"end":{"line":36,"column":20}},"name":"code"}],"body":{"type":"BlockStatement","start":781,"end":1269,"loc":{"start":{"line":36,"column":22},"end":{"line":50,"column":3}},"body":[{"type":"IfStatement","start":787,"end":866,"loc":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"test":{"type":"BinaryExpression","start":791,"end":815,"loc":{"start":{"line":37,"column":8},"end":{"line":37,"column":32}},"left":{"type":"UnaryExpression","start":791,"end":802,"loc":{"start":{"line":37,"column":8},"end":{"line":37,"column":19}},"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":798,"end":802,"loc":{"start":{"line":37,"column":15},"end":{"line":37,"column":19}},"name":"code"}},"operator":"!==","right":{"type":"Literal","start":807,"end":815,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":32}},"value":"string","raw":"'string'"}},"consequent":{"type":"BlockStatement","start":817,"end":866,"loc":{"start":{"line":37,"column":34},"end":{"line":39,"column":5}},"body":[{"type":"ThrowStatement","start":825,"end":860,"loc":{"start":{"line":38,"column":6},"end":{"line":38,"column":41}},"argument":{"type":"NewExpression","start":831,"end":860,"loc":{"start":{"line":38,"column":12},"end":{"line":38,"column":41}},"callee":{"type":"Identifier","start":835,"end":844,"loc":{"start":{"line":38,"column":16},"end":{"line":38,"column":25}},"name":"TypeError"},"arguments":[{"type":"Literal","start":845,"end":859,"loc":{"start":{"line":38,"column":26},"end":{"line":38,"column":40}},"value":"not a string","raw":"'not a string'"}]}}]},"alternate":null},{"type":"VariableDeclaration","start":871,"end":902,"loc":{"start":{"line":40,"column":4},"end":{"line":40,"column":35}},"declarations":[{"type":"VariableDeclarator","start":877,"end":902,"loc":{"start":{"line":40,"column":10},"end":{"line":40,"column":35}},"id":{"type":"Identifier","start":877,"end":886,"loc":{"start":{"line":40,"column":10},"end":{"line":40,"column":19}},"name":"__context"},"init":{"type":"MemberExpression","start":889,"end":902,"loc":{"start":{"line":40,"column":22},"end":{"line":40,"column":35}},"object":{"type":"ThisExpression","start":889,"end":893,"loc":{"start":{"line":40,"column":22},"end":{"line":40,"column":26}}},"property":{"type":"Identifier","start":894,"end":902,"loc":{"start":{"line":40,"column":27},"end":{"line":40,"column":35}},"name":"_context"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":908,"end":968,"loc":{"start":{"line":42,"column":4},"end":{"line":42,"column":64}},"declarations":[{"type":"VariableDeclarator","start":912,"end":968,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":64}},"id":{"type":"Identifier","start":912,"end":915,"loc":{"start":{"line":42,"column":8},"end":{"line":42,"column":11}},"name":"src"},"init":{"type":"Literal","start":918,"end":968,"loc":{"start":{"line":42,"column":14},"end":{"line":42,"column":64}},"value":"this.constructor.constructor = function () {};\n","raw":"'this.constructor.constructor = function () {};\\n'"}}],"kind":"let"},{"type":"ExpressionStatement","start":1028,"end":1145,"loc":{"start":{"line":44,"column":4},"end":{"line":46,"column":6}},"expression":{"type":"CallExpression","start":1028,"end":1145,"loc":{"start":{"line":44,"column":4},"end":{"line":46,"column":6}},"callee":{"type":"MemberExpression","start":1028,"end":1058,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":34}},"object":{"type":"CallExpression","start":1028,"end":1050,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":26}},"callee":{"type":"MemberExpression","start":1028,"end":1039,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":15}},"object":{"type":"Identifier","start":1028,"end":1034,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":10}},"name":"Object"},"property":{"type":"Identifier","start":1035,"end":1039,"loc":{"start":{"line":44,"column":11},"end":{"line":44,"column":15}},"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1040,"end":1049,"loc":{"start":{"line":44,"column":16},"end":{"line":44,"column":25}},"name":"__context"}],"optional":false},"property":{"type":"Identifier","start":1051,"end":1058,"loc":{"start":{"line":44,"column":27},"end":{"line":44,"column":34}},"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"FunctionExpression","start":1059,"end":1144,"loc":{"start":{"line":44,"column":35},"end":{"line":46,"column":5}},"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1069,"end":1072,"loc":{"start":{"line":44,"column":45},"end":{"line":44,"column":48}},"name":"key"}],"body":{"type":"BlockStatement","start":1074,"end":1144,"loc":{"start":{"line":44,"column":50},"end":{"line":46,"column":5}},"body":[{"type":"ExpressionStatement","start":1082,"end":1138,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":62}},"expression":{"type":"AssignmentExpression","start":1082,"end":1138,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":62}},"operator":"+=","left":{"type":"Identifier","start":1082,"end":1085,"loc":{"start":{"line":45,"column":6},"end":{"line":45,"column":9}},"name":"src"},"right":{"type":"BinaryExpression","start":1089,"end":1138,"loc":{"start":{"line":45,"column":13},"end":{"line":45,"column":62}},"left":{"type":"BinaryExpression","start":1089,"end":1127,"loc":{"start":{"line":45,"column":13},"end":{"line":45,"column":51}},"left":{"type":"BinaryExpression","start":1089,"end":1121,"loc":{"start":{"line":45,"column":13},"end":{"line":45,"column":45}},"left":{"type":"BinaryExpression","start":1089,"end":1101,"loc":{"start":{"line":45,"column":13},"end":{"line":45,"column":25}},"left":{"type":"Literal","start":1089,"end":1095,"loc":{"start":{"line":45,"column":13},"end":{"line":45,"column":19}},"value":"var ","raw":"'var '"},"operator":"+","right":{"type":"Identifier","start":1098,"end":1101,"loc":{"start":{"line":45,"column":22},"end":{"line":45,"column":25}},"name":"key"}},"operator":"+","right":{"type":"Literal","start":1104,"end":1121,"loc":{"start":{"line":45,"column":28},"end":{"line":45,"column":45}},"value":" = __context['","raw":"' = __context[\\''"}},"operator":"+","right":{"type":"Identifier","start":1124,"end":1127,"loc":{"start":{"line":45,"column":48},"end":{"line":45,"column":51}},"name":"key"}},"operator":"+","right":{"type":"Literal","start":1130,"end":1138,"loc":{"start":{"line":45,"column":54},"end":{"line":45,"column":62}},"value":"'];\n","raw":"'\\'];\\n'"}}}}]}}],"optional":false}},{"type":"ExpressionStatement","start":1150,"end":1181,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":35}},"expression":{"type":"AssignmentExpression","start":1150,"end":1181,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":35}},"operator":"+=","left":{"type":"Identifier","start":1150,"end":1153,"loc":{"start":{"line":47,"column":4},"end":{"line":47,"column":7}},"name":"src"},"right":{"type":"BinaryExpression","start":1157,"end":1181,"loc":{"start":{"line":47,"column":11},"end":{"line":47,"column":35}},"left":{"type":"BinaryExpression","start":1157,"end":1173,"loc":{"start":{"line":47,"column":11},"end":{"line":47,"column":27}},"left":{"type":"Literal","start":1157,"end":1166,"loc":{"start":{"line":47,"column":11},"end":{"line":47,"column":20}},"value":"return ","raw":"'return '"},"operator":"+","right":{"type":"Identifier","start":1169,"end":1173,"loc":{"start":{"line":47,"column":23},"end":{"line":47,"column":27}},"name":"code"}},"operator":"+","right":{"type":"Literal","start":1176,"end":1181,"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":35}},"value":";\n","raw":"';\\n'"}}}},{"type":"ReturnStatement","start":1187,"end":1242,"loc":{"start":{"line":49,"column":4},"end":{"line":49,"column":59}},"argument":{"type":"CallExpression","start":1194,"end":1242,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":59}},"callee":{"type":"MemberExpression","start":1194,"end":1225,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":42}},"object":{"type":"CallExpression","start":1194,"end":1220,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":37}},"callee":{"type":"Identifier","start":1194,"end":1202,"loc":{"start":{"line":49,"column":11},"end":{"line":49,"column":19}},"name":"Function"},"arguments":[{"type":"Literal","start":1203,"end":1214,"loc":{"start":{"line":49,"column":20},"end":{"line":49,"column":31}},"value":"__context","raw":"'__context'"},{"type":"Identifier","start":1216,"end":1219,"loc":{"start":{"line":49,"column":33},"end":{"line":49,"column":36}},"name":"src"}],"optional":false},"property":{"type":"Identifier","start":1221,"end":1225,"loc":{"start":{"line":49,"column":38},"end":{"line":49,"column":42}},"name":"call"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1226,"end":1230,"loc":{"start":{"line":49,"column":43},"end":{"line":49,"column":47}},"value":null,"raw":"null"},{"type":"Identifier","start":1232,"end":1241,"loc":{"start":{"line":49,"column":49},"end":{"line":49,"column":58}},"name":"__context"}],"optional":false}}]}}}]}},{"type":"FunctionDeclaration","start":2245,"end":2345,"loc":{"start":{"line":78,"column":0},"end":{"line":80,"column":1}},"id":{"type":"Identifier","start":2254,"end":2263,"loc":{"start":{"line":78,"column":9},"end":{"line":78,"column":18}},"name":"saferEval"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2265,"end":2269,"loc":{"start":{"line":78,"column":20},"end":{"line":78,"column":24}},"name":"code"},{"type":"Identifier","start":2271,"end":2278,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":33}},"name":"context"},{"type":"AssignmentPattern","start":2280,"end":2289,"loc":{"start":{"line":78,"column":35},"end":{"line":78,"column":44}},"left":{"type":"Identifier","start":2280,"end":2284,"loc":{"start":{"line":78,"column":35},"end":{"line":78,"column":39}},"name":"opts"},"right":{"type":"ObjectExpression","start":2287,"end":2289,"loc":{"start":{"line":78,"column":42},"end":{"line":78,"column":44}},"properties":[]}}],"body":{"type":"BlockStatement","start":2291,"end":2345,"loc":{"start":{"line":78,"column":46},"end":{"line":80,"column":1}},"body":[{"type":"ReturnStatement","start":2295,"end":2343,"loc":{"start":{"line":79,"column":2},"end":{"line":79,"column":50}},"argument":{"type":"CallExpression","start":2302,"end":2343,"loc":{"start":{"line":79,"column":9},"end":{"line":79,"column":50}},"callee":{"type":"MemberExpression","start":2302,"end":2337,"loc":{"start":{"line":79,"column":9},"end":{"line":79,"column":44}},"object":{"type":"NewExpression","start":2302,"end":2324,"loc":{"start":{"line":79,"column":9},"end":{"line":79,"column":31}},"callee":{"type":"Identifier","start":2306,"end":2315,"loc":{"start":{"line":79,"column":13},"end":{"line":79,"column":22}},"name":"SaferEval"},"arguments":[{"type":"Identifier","start":2316,"end":2323,"loc":{"start":{"line":79,"column":23},"end":{"line":79,"column":30}},"name":"context"}]},"property":{"type":"Identifier","start":2325,"end":2337,"loc":{"start":{"line":79,"column":32},"end":{"line":79,"column":44}},"name":"runInContext"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2338,"end":2342,"loc":{"start":{"line":79,"column":45},"end":{"line":79,"column":49}},"name":"code"}],"optional":false}}]}},{"type":"ExpressionStatement","start":2347,"end":2373,"loc":{"start":{"line":82,"column":0},"end":{"line":82,"column":26}},"expression":{"type":"AssignmentExpression","start":2347,"end":2373,"loc":{"start":{"line":82,"column":0},"end":{"line":82,"column":26}},"operator":"=","left":{"type":"MemberExpression","start":2347,"end":2361,"loc":{"start":{"line":82,"column":0},"end":{"line":82,"column":14}},"object":{"type":"Identifier","start":2347,"end":2353,"loc":{"start":{"line":82,"column":0},"end":{"line":82,"column":6}},"name":"module"},"property":{"type":"Identifier","start":2354,"end":2361,"loc":{"start":{"line":82,"column":7},"end":{"line":82,"column":14}},"name":"exports"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2364,"end":2373,"loc":{"start":{"line":82,"column":17},"end":{"line":82,"column":26}},"name":"saferEval"}}},{"type":"ExpressionStatement","start":2374,"end":2410,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":36}},"expression":{"type":"AssignmentExpression","start":2374,"end":2410,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":36}},"operator":"=","left":{"type":"MemberExpression","start":2374,"end":2398,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":24}},"object":{"type":"MemberExpression","start":2374,"end":2388,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":14}},"object":{"type":"Identifier","start":2374,"end":2380,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":6}},"name":"module"},"property":{"type":"Identifier","start":2381,"end":2388,"loc":{"start":{"line":83,"column":7},"end":{"line":83,"column":14}},"name":"exports"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2389,"end":2398,"loc":{"start":{"line":83,"column":15},"end":{"line":83,"column":24}},"name":"SaferEval"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2401,"end":2410,"loc":{"start":{"line":83,"column":27},"end":{"line":83,"column":36}},"name":"SaferEval"}}}],"sourceType":"module"}